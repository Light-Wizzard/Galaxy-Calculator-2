# Справка по калькулятору

Я использую QCalculator для Math Engine, его можно найти на
[https://github.com/xenotux/qcalc] (https://github.com/xenotux/qcalc)
документ можно найти по адресу [https://www.state-machine.com/qtools/qcalc.html] (https://www.state-machine.com/qtools/qcalc.html),
Мне нравится этот проект,
поэтому я разветвил его на [https://github.com/Light-Wizzard/qcalcpting(https://github.com/Light-Wizzard/qcalc),
и я использовал здесь некоторые из их документации и надеюсь написать лучший раздел справки для этого проекта.

***

Наиболее важной особенностью QCalc является то, что он принимает выражения в <b> синтаксисе C </b> - с теми же операндами и правилами приоритета, что и в исходном коде C или C ++. Среди прочего,
выражения могут содержать все побитовые операторы (`<<`, `>>`, `|`, `&`, `^`, `~`), а также смешанные десятичные числа,
<b> шестнадцатеричные </b> и даже двоичные константы.

QCalc также является мощным научным калькулятором с плавающей запятой и поддерживает все математические функции.
(`sin ()`, `cos ()`, `tan ()`, `exp ()`, `ln ()`, ...).

Вот несколько примеров приемлемых выражений:
`((0xBEEF << 16) | 1280) & ~ 0xFF` - бинарные операторы, смешанные шестнадцатеричные и десятичные числа

`(1011 $ << 24) | (1280 >> 8) ^ 0xFFF0` - смешанные двоичные, десятичные и шестнадцатеричные числа

`(1234% 55) + 4321 // 33` - остаток, целочисленное деление (обратите внимание на оператор целочисленного деления` // `

`pi / 6` - пи-константа

`pow (sin (ans), 2) + pow (cos (ans), 2)` - научные вычисления с плавающей запятой,
[ans-переменная] (https://www.state-machine.com/qtools/qcalc.html#qcalc_ans)

***

Примечание: QCalc внутренне использует команду Python <b> eval </b> для оценки выражений.
См. Документацию по [математическим выражениям Python] (https://en.wikibooks.org/wiki/Python_Programming/Basic_Math)
для получения дополнительных сведений о поддерживаемом синтаксисе и функциях.

# Автоматическое преобразование в шестнадцатеричное и двоичное

Если результат вычисления выражения является целым числом (в отличие от числа с плавающей запятой),
QCalc автоматически отображает результат в шестнадцатеричном и двоичном форматах (см. Снимок экрана QCalc).
Для лучшей читаемости шестнадцатеричный дисплей показывает апостроф между двумя 16-битными полусловами (например, `0xDEAD'BEEF`).
Точно так же двоичный вывод показывает апостроф между четырьмя 8-битными байтами (например, `0b11011110'10101101'10111110'11101111`).

# Шестнадцатеричные и двоичные числа

В качестве расширения C-синтаксиса QCalc поддерживает как <b> шестнадцатеричные числа </b>, так и <b> двоичные числа </b>.
Эти числа представлены как 0x ... и 0b ... соответственно,
и могут быть смешаны в выражениях. Вот несколько примеров таких выражений:

`(0b0110011 << 14) & 0xDEADBEEF (0b0010 | 0b10000) * 123`


# Переменная ans

QCalc сохраняет результат последнего вычисления в переменной ans.
Вот несколько примеров выражений с переменной ans:

`1 / ans` - найти обратное к последнему вычислению

`log (ans) / log (2)` - найти log-base-2 последнего вычисления

# 64-битный диапазон

QCalc поддерживает 64-битный диапазон и автоматически переключается на 64-битную арифметику, когда <b> целочисленный </b> результат вычисления превышает 32-битный диапазон.
Вот несколько примеров 64-битного вывода:

`` ''
> 0xDEADBEEF << 27
= 501427843159293952 | 0x06F5'6DF7'7800'0000
= 0b00000110'11110101'01101101'11110111'01111000'00000000'00000000'00000000
> 0xDEADBEEF << 24
= 62678480394911744 | 0x00DE'ADBE'EF00'0000
= 0b00000000'11011110'10101101'10111110'11101111'00000000'00000000'00000000
> 0xDEADBEEF << 34
! вне диапазона
>
`` ''

# Обработка ошибок

Выражения, которые вы вводите в QCalc, могут содержать всевозможные ошибки: синтаксические ошибки,
ошибки вычислений (например, деление на ноль) и т. д.
Во всех этих случаях QCalc отвечает сообщением об ошибке и объяснением ошибки:

`` ''
> (2 * 4) +)
Отслеживание (последний вызов последний):
  Файл "\ ProgramPath \ qcalc.py", строка 54, в _main
результат = eval (выражение)
  Файл "<строка>", строка 1
(2 * 4) +)
^
SyntaxError: не соответствует ')'
>
`` ''