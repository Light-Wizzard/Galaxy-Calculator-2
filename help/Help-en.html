<!DOCTYPE html>
<html>
<head>
    <title>Calculator Help</title>
    <style>
    .fragment
    {
      text-align: left;
      direction: ltr;
      overflow-x: auto; /*Fixed: fragment lines overlap floating elements*/
      overflow-y: hidden;
    }

    pre.fragment
    {
        border: 1px solid #C4CFE5;
        background-color: LightCyan;
        padding: 4px 6px;
        margin: 4px 8px 4px 2px;
        overflow: auto;
        word-wrap: break-word;
        font-size:  9pt;
        line-height: 125%;
        font-family: monospace, fixed;
        font-size: 105%;
    }

    div.fragment
    {
        padding: 0 0 1px 0; /*Fixed: last line underline overlap border*/
        margin: 4px 8px 4px 2px; background-color: #FBFCFD; border: 1px solid #C4CFE5;
    }
    h1, h2, h3, h4, h5, h6
    {
        color: Black;
    }
    .textblock h1
    {
        border-bottom: 1px solid #4466AA;
        margin: 20px 0px 10px 0px;
        padding-bottom: 10px;
        padding-top: 10px;
    }

    .textblock h1:first-child
    {
        margin-top: 10px;
    }

    .textblock h2
    {
        border-bottom: 1px solid #AADDEE;
        margin: 15px 0px 10px 0px;
        padding-bottom: 10px;
        padding-top: 10px;
    }

    .textblock h2:first-child
    {
        margin-top: 10px;
    }

    dl.section
    {
        margin-left: 0px;
        padding-left: 0px;
    }

    dl.section.DocNodeRTL
    {
        margin-right: 0px;
        padding-right: 0px;
    }

    dl.section dd
    {
        margin-bottom: 6px;
    }

    dl.note
    {
      margin-left: -7px;
      padding-left: 3px;
      border-left: 4px solid;
      border-color: red;
    }

    dt.note
    {
      margin-left: -7px;
      padding-left: 3px;
      border-left: 4px solid;
      border-color: red;
      background-color: LightCyan;
    }

    dd.note
    {
      margin-left: -7px;
      padding-left: 3px;
      border-left: 4px solid;
      border-color: yellow;
      background-color: LightCyan;
    }
    </style>
</head>
<body>


<h1>Calculator Help</h1>

<p>
    I use QCalculator for the Math Engine, it can be found at
    <a href="https://github.com/xenotux/qcalc">https://github.com/xenotux/qcalc</a>,
    documentaion can be found at <a href="https://www.state-machine.com/qtools/qcalc.html">https://www.state-machine.com/qtools/qcalc.html</a>,
    I like this project, so I forked it at <a href="https://github.com/Light-Wizzard/qcalc">https://github.com/Light-Wizzard/qcalc</a>,
    and I have used some of their documentaion here, and hope to write a better Help Section for this project.
</p>

<hr>

<p>
    The most important feature of QCalc is that it accepts expressions in the <b>C-syntax</b> - with the same operands and precedence rules as in the C or C++ source code. Among others,
    the expressions can contain all bit-wise operators (<code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>|</code>, <code>&amp;</code>, <code>^</code>, <code>~</code>) as well as mixed decimal,
    <b>hexadecimal</b> and even binary constants.
    QCalc is also a powerful floating-point scientific calculator and supports all mathematical functions
    (<code>sin()</code>, <code>cos()</code>, <code>tan()</code>, <code>exp()</code>, <code>ln()</code>, ...).
    Some examples of acceptable expressions are:
</p>

<p>
    <code>((0xBEEF &lt;&lt; 16) | 1280) &amp; ~0xFF</code> - binary operators, mixed hex and decimal numbers<br>
    <code>($1011 &lt;&lt; 24) | (1280 &gt;&gt; 8) ^ 0xFFF0</code> - mixed binary, dec and hex numbers<br>
    <code>(1234 % 55) + 4321//33</code> - remainder, integer division (note the <code>//</code> integer division operator<br>
    <code>pi/6</code> - pi-constant<br>
    <code>pow(sin(ans),2) + pow(cos(ans),2)</code> - scientific floating-point calculations,
    <a href="https://www.state-machine.com/qtools/qcalc.html#qcalc_ans">ans-variable</a>
</p>

<hr>

<p class="textblock note">
    <dl class="section note">
        <dt class="note">Note</dt>
        <dd class="note">
            QCalc internally uses the Python command <b>eval</b> to evaluate the expressions.
            Please refer to the documentation of the <a href="https://en.wikibooks.org/wiki/Python_Programming/Basic_Math" style="extern">Python math expressions</a>
            for more details of supported syntax and features.
        </dd>
    </dl>
</p>

<hr>

<h2>Automatic Conversion to Hexadecimal and Binary</h2>

<p>
    If the result of expression evaluation is integer (as opposed to floating point), QCalc automatically displays the result in hexadecimal and binary formats (see QCalc screenshot).
    For better readability the hex display shows an apostrophe between the two 16-bit half-words (e.g., <code>0xDEAD'BEEF</code>).
    Similarly, the binary output shows an apostrophe between the four 8-bit bytes (e.g., <code>0b11011110'10101101'10111110'11101111</code>).
</p>

<hr>

<h2>Hexadecimal and Binary Numbers</h2>

<p>
    As the extension to the C-syntax, QCalc supports both <b>hexadecimal numbers</b> and <b>binary numbers</b>.
    These numbers are represented as <code>0x...</code> and<code>0b...</code>, respectively, and can be mixed into expressions. Here are a few examples of such expressions:
</p>

<pre class="fragment">
    (0b0110011 &lt;&lt; 14) &amp; 0xDEADBEEF (0b0010 | 0b10000) * 123
</pre>

<hr>

<h2>The ans Variable</h2>

<p>
    QCalc stores the result of the last computation in the <code>ans</code> variable. Here are some examples of expressions with the <code>ans</code> variable:
</p>

<p>
    <code>1/ans</code> - find the inverse of the last computation<br>
    <code>log(ans)/log(2)</code> - find log-base-2 of the last computation<br>
</p>

<hr>


<h2>64-bit Range</h2>

<p>
    QCalc supports the 64-bit range and switches to 64-bit arithmetic automatically when an <b>integer</b> result of a computation exceeds the 32-bit range. Here are some examples of the 64-bit output:
</p>

<pre class="fragment">
    &gt; 0xDEADBEEF &lt;&lt; 27
    = 501427843159293952 | 0x06F5'6DF7'7800'0000
    = 0b00000110'11110101'01101101'11110111'01111000'00000000'00000000'00000000
    &gt; 0xDEADBEEF &lt;&lt; 24
    = 62678480394911744 | 0x00DE'ADBE'EF00'0000
    = 0b00000000'11011110'10101101'10111110'11101111'00000000'00000000'00000000
    &gt; 0xDEADBEEF &lt;&lt; 34
    ! out of range
    &gt;
</pre>

<hr>

<h2>Error handling</h2>

<p>
    Expressions that you enter into QCalc might have all kinds of errors: syntax errors, computation errors (e.g., division by zero), etc.
    In all these cases, QCalc responds with the <code>Error</code> message and the explanation of the error:
</p>

<pre class="fragment">
    &gt; (2*4) + )
    Traceback (most recent call last):
      File "C:\qp\qtools\qcalc\qcalc.py", line 54, in _main
        result = eval(expr)
      File "&lt;string&gt;", line 1
        (2*4) + )
                ^
    SyntaxError: unmatched ')'
    &gt;
</pre>

</body>
</html>
