<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GalaxyCalculator2: nlohmann::detail::dtoa_impl Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo32.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GalaxyCalculator2
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">GalaxyCalculator2 is a Galaxy Calculator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacenlohmann_1_1detail_1_1dtoa__impl.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">nlohmann::detail::dtoa_impl Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>implements the Grisu2 algorithm for binary to decimal floating-point conversion.  
<a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1boundaries.html">boundaries</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1cached__power.html">cached_power</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c5d30eb51e5e994a3f48bde104d2ce8"><td class="memTemplParams" colspan="2">template&lt;typename Target , typename Source &gt; </td></tr>
<tr class="memitem:a1c5d30eb51e5e994a3f48bde104d2ce8"><td class="memTemplItemLeft" align="right" valign="top">Target&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a1c5d30eb51e5e994a3f48bde104d2ce8">reinterpret_bits</a> (const Source source)</td></tr>
<tr class="separator:a1c5d30eb51e5e994a3f48bde104d2ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b6e37654ac93c6d0d9c06ec1bf5ded"><td class="memTemplParams" colspan="2">template&lt;typename FloatType &gt; </td></tr>
<tr class="memitem:a22b6e37654ac93c6d0d9c06ec1bf5ded"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1boundaries.html">boundaries</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a22b6e37654ac93c6d0d9c06ec1bf5ded">compute_boundaries</a> (FloatType value)</td></tr>
<tr class="separator:a22b6e37654ac93c6d0d9c06ec1bf5ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf329a18c5cf854a3477327afd2200b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1cached__power.html">cached_power</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#adbf329a18c5cf854a3477327afd2200b">get_cached_power_for_binary_exponent</a> (int e)</td></tr>
<tr class="separator:adbf329a18c5cf854a3477327afd2200b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ded358763b5dbcea9867660fbe4e28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a36ded358763b5dbcea9867660fbe4e28">find_largest_pow10</a> (const std::uint32_t n, std::uint32_t &amp;pow10)</td></tr>
<tr class="separator:a36ded358763b5dbcea9867660fbe4e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc841e0bee12fd6489d49cf7bd07bb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a5bc841e0bee12fd6489d49cf7bd07bb4">grisu2_round</a> (char *buf, int len, std::uint64_t dist, std::uint64_t delta, std::uint64_t rest, std::uint64_t ten_k)</td></tr>
<tr class="separator:a5bc841e0bee12fd6489d49cf7bd07bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b899c72b0e1e3dd46d75c2b4e6bcdfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a9b899c72b0e1e3dd46d75c2b4e6bcdfb">grisu2_digit_gen</a> (char *buffer, int &amp;length, int &amp;decimal_exponent, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> M_minus, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> w, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> M_plus)</td></tr>
<tr class="separator:a9b899c72b0e1e3dd46d75c2b4e6bcdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b681dcb8569b9784c6dccfadb01633"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a05b681dcb8569b9784c6dccfadb01633">grisu2</a> (char *buf, int &amp;len, int &amp;decimal_exponent, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> m_minus, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> v, <a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a> m_plus)</td></tr>
<tr class="separator:a05b681dcb8569b9784c6dccfadb01633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7a9670a4f4704a5d0347ad7588576b"><td class="memTemplParams" colspan="2">template&lt;typename FloatType &gt; </td></tr>
<tr class="memitem:aab7a9670a4f4704a5d0347ad7588576b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#aab7a9670a4f4704a5d0347ad7588576b">grisu2</a> (char *buf, int &amp;len, int &amp;decimal_exponent, FloatType value)</td></tr>
<tr class="separator:aab7a9670a4f4704a5d0347ad7588576b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90f19ed10d8133b727df4b9bc5ddf5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="json_8hpp.html#a5f2aaec3b681d0a72f7d6e90b70cdcd1">JSON_HEDLEY_RETURNS_NON_NULL</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ad90f19ed10d8133b727df4b9bc5ddf5c">append_exponent</a> (char *buf, int e)</td></tr>
<tr class="memdesc:ad90f19ed10d8133b727df4b9bc5ddf5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">appends a decimal representation of e to buf  <a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ad90f19ed10d8133b727df4b9bc5ddf5c">More...</a><br /></td></tr>
<tr class="separator:ad90f19ed10d8133b727df4b9bc5ddf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab441f2761e33839ca48bc2225e14a2a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="json_8hpp.html#a5f2aaec3b681d0a72f7d6e90b70cdcd1">JSON_HEDLEY_RETURNS_NON_NULL</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ab441f2761e33839ca48bc2225e14a2a9">format_buffer</a> (char *buf, int len, int decimal_exponent, int min_exp, int max_exp)</td></tr>
<tr class="memdesc:ab441f2761e33839ca48bc2225e14a2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">prettify v = buf * 10^decimal_exponent  <a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ab441f2761e33839ca48bc2225e14a2a9">More...</a><br /></td></tr>
<tr class="separator:ab441f2761e33839ca48bc2225e14a2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac1ea1316de0b4a219f707c76b1db1966"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">kAlpha</a> = -60</td></tr>
<tr class="separator:ac1ea1316de0b4a219f707c76b1db1966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a750fcc38da1ce68b7e25ab3a230e20"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a4a750fcc38da1ce68b7e25ab3a230e20">kGamma</a> = -32</td></tr>
<tr class="separator:a4a750fcc38da1ce68b7e25ab3a230e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>implements the Grisu2 algorithm for binary to decimal floating-point conversion. </p>
<p>This implementation is a slightly modified version of the reference implementation which may be obtained from <a href="http://florian.loitsch.com/publications">http://florian.loitsch.com/publications</a> (bench.tar.gz).</p>
<p>The code is distributed under the MIT license, Copyright (c) 2009 Florian Loitsch.</p>
<p>For a detailed description of the algorithm see:</p>
<p>[1] Loitsch, "Printing Floating-Point Numbers Quickly and Accurately with
    Integers", Proceedings of the ACM SIGPLAN 2010 Conference on Programming Language Design and Implementation, PLDI 2010 [2] Burger, Dybvig, "Printing Floating-Point Numbers Quickly and Accurately", Proceedings of the ACM SIGPLAN 1996 Conference on Programming Language Design and Implementation, PLDI 1996 </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad90f19ed10d8133b727df4b9bc5ddf5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90f19ed10d8133b727df4b9bc5ddf5c">&#9670;&nbsp;</a></span>append_exponent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="json_8hpp.html#a5f2aaec3b681d0a72f7d6e90b70cdcd1">JSON_HEDLEY_RETURNS_NON_NULL</a> char* nlohmann::detail::dtoa_impl::append_exponent </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>appends a decimal representation of e to buf </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the element following the exponent. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>-1000 &lt; e &lt; 1000 </dd></dl>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l15269">15269</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l15270"></a><span class="lineno">15270</span>&#160;            {</div>
<div class="line"><a name="l15271"></a><span class="lineno">15271</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(e &gt; -1000);</div>
<div class="line"><a name="l15272"></a><span class="lineno">15272</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(e &lt;  1000);</div>
<div class="line"><a name="l15273"></a><span class="lineno">15273</span>&#160; </div>
<div class="line"><a name="l15274"></a><span class="lineno">15274</span>&#160;                <span class="keywordflow">if</span> (e &lt; 0)</div>
<div class="line"><a name="l15275"></a><span class="lineno">15275</span>&#160;                {</div>
<div class="line"><a name="l15276"></a><span class="lineno">15276</span>&#160;                    e = -e;</div>
<div class="line"><a name="l15277"></a><span class="lineno">15277</span>&#160;                    *buf++ = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l15278"></a><span class="lineno">15278</span>&#160;                }</div>
<div class="line"><a name="l15279"></a><span class="lineno">15279</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l15280"></a><span class="lineno">15280</span>&#160;                {</div>
<div class="line"><a name="l15281"></a><span class="lineno">15281</span>&#160;                    *buf++ = <span class="charliteral">&#39;+&#39;</span>;</div>
<div class="line"><a name="l15282"></a><span class="lineno">15282</span>&#160;                }</div>
<div class="line"><a name="l15283"></a><span class="lineno">15283</span>&#160; </div>
<div class="line"><a name="l15284"></a><span class="lineno">15284</span>&#160;                <span class="keyword">auto</span> k = <span class="keyword">static_cast&lt;</span>std::uint32_t<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l15285"></a><span class="lineno">15285</span>&#160;                <span class="keywordflow">if</span> (k &lt; 10)</div>
<div class="line"><a name="l15286"></a><span class="lineno">15286</span>&#160;                {</div>
<div class="line"><a name="l15287"></a><span class="lineno">15287</span>&#160;                    <span class="comment">// Always print at least two digits in the exponent.</span></div>
<div class="line"><a name="l15288"></a><span class="lineno">15288</span>&#160;                    <span class="comment">// This is for compatibility with printf(&quot;%g&quot;).</span></div>
<div class="line"><a name="l15289"></a><span class="lineno">15289</span>&#160;                    *buf++ = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l15290"></a><span class="lineno">15290</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k);</div>
<div class="line"><a name="l15291"></a><span class="lineno">15291</span>&#160;                }</div>
<div class="line"><a name="l15292"></a><span class="lineno">15292</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k &lt; 100)</div>
<div class="line"><a name="l15293"></a><span class="lineno">15293</span>&#160;                {</div>
<div class="line"><a name="l15294"></a><span class="lineno">15294</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k / 10);</div>
<div class="line"><a name="l15295"></a><span class="lineno">15295</span>&#160;                    k %= 10;</div>
<div class="line"><a name="l15296"></a><span class="lineno">15296</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k);</div>
<div class="line"><a name="l15297"></a><span class="lineno">15297</span>&#160;                }</div>
<div class="line"><a name="l15298"></a><span class="lineno">15298</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l15299"></a><span class="lineno">15299</span>&#160;                {</div>
<div class="line"><a name="l15300"></a><span class="lineno">15300</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k / 100);</div>
<div class="line"><a name="l15301"></a><span class="lineno">15301</span>&#160;                    k %= 100;</div>
<div class="line"><a name="l15302"></a><span class="lineno">15302</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k / 10);</div>
<div class="line"><a name="l15303"></a><span class="lineno">15303</span>&#160;                    k %= 10;</div>
<div class="line"><a name="l15304"></a><span class="lineno">15304</span>&#160;                    *buf++ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + k);</div>
<div class="line"><a name="l15305"></a><span class="lineno">15305</span>&#160;                }</div>
<div class="line"><a name="l15306"></a><span class="lineno">15306</span>&#160; </div>
<div class="line"><a name="l15307"></a><span class="lineno">15307</span>&#160;                <span class="keywordflow">return</span> buf;</div>
<div class="line"><a name="l15308"></a><span class="lineno">15308</span>&#160;            }</div>
<div class="ttc" id="ajson_8hpp_html_a69f131cff49da1989667220173fbeae6"><div class="ttname"><a href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a></div><div class="ttdeci">#define JSON_ASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l02103">json.hpp:2103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22b6e37654ac93c6d0d9c06ec1bf5ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b6e37654ac93c6d0d9c06ec1bf5ded">&#9670;&nbsp;</a></span>compute_boundaries()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FloatType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1boundaries.html">boundaries</a> nlohmann::detail::dtoa_impl::compute_boundaries </td>
          <td>(</td>
          <td class="paramtype">FloatType&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the (normalized) diyfp representing the input number 'value' and its boundaries.</p>
<dl class="section pre"><dt>Precondition</dt><dd>value must be finite and positive </dd></dl>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14528">14528</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14529"></a><span class="lineno">14529</span>&#160;            {</div>
<div class="line"><a name="l14530"></a><span class="lineno">14530</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespacempfr.html#a975d2c1bc89e75352a00cd11c7fe5edd">std::isfinite</a>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a>));</div>
<div class="line"><a name="l14531"></a><span class="lineno">14531</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a> &gt; 0);</div>
<div class="line"><a name="l14532"></a><span class="lineno">14532</span>&#160; </div>
<div class="line"><a name="l14533"></a><span class="lineno">14533</span>&#160;                <span class="comment">// Convert the IEEE representation into a diyfp.</span></div>
<div class="line"><a name="l14534"></a><span class="lineno">14534</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14535"></a><span class="lineno">14535</span>&#160;                <span class="comment">// If v is denormal:</span></div>
<div class="line"><a name="l14536"></a><span class="lineno">14536</span>&#160;                <span class="comment">//      value = 0.F * 2^(1 - bias) = (          F) * 2^(1 - bias - (p-1))</span></div>
<div class="line"><a name="l14537"></a><span class="lineno">14537</span>&#160;                <span class="comment">// If v is normalized:</span></div>
<div class="line"><a name="l14538"></a><span class="lineno">14538</span>&#160;                <span class="comment">//      value = 1.F * 2^(E - bias) = (2^(p-1) + F) * 2^(E - bias - (p-1))</span></div>
<div class="line"><a name="l14539"></a><span class="lineno">14539</span>&#160; </div>
<div class="line"><a name="l14540"></a><span class="lineno">14540</span>&#160;                static_assert(std::numeric_limits&lt;FloatType&gt;::is_iec559,</div>
<div class="line"><a name="l14541"></a><span class="lineno">14541</span>&#160;                        <span class="stringliteral">&quot;internal error: dtoa_short requires an IEEE-754 floating-point implementation&quot;</span>);</div>
<div class="line"><a name="l14542"></a><span class="lineno">14542</span>&#160; </div>
<div class="line"><a name="l14543"></a><span class="lineno">14543</span>&#160;                constexpr <span class="keywordtype">int</span>      kPrecision = std::numeric_limits&lt;FloatType&gt;::digits; <span class="comment">// = p (includes the hidden bit)</span></div>
<div class="line"><a name="l14544"></a><span class="lineno">14544</span>&#160;                constexpr <span class="keywordtype">int</span>      kBias      = std::numeric_limits&lt;FloatType&gt;::max_exponent - 1 + (kPrecision - 1);</div>
<div class="line"><a name="l14545"></a><span class="lineno">14545</span>&#160;                constexpr <span class="keywordtype">int</span>      kMinExp    = 1 - kBias;</div>
<div class="line"><a name="l14546"></a><span class="lineno">14546</span>&#160;                constexpr std::uint64_t kHiddenBit = std::uint64_t{1} &lt;&lt; (kPrecision - 1); <span class="comment">// = 2^(p-1)</span></div>
<div class="line"><a name="l14547"></a><span class="lineno">14547</span>&#160; </div>
<div class="line"><a name="l14548"></a><span class="lineno">14548</span>&#160;                <span class="keyword">using</span> bits_type = <span class="keyword">typename</span> std::conditional&lt;kPrecision == 24, std::uint32_t, std::uint64_t &gt;::type;</div>
<div class="line"><a name="l14549"></a><span class="lineno">14549</span>&#160; </div>
<div class="line"><a name="l14550"></a><span class="lineno">14550</span>&#160;                <span class="keyword">const</span> std::uint64_t bits = reinterpret_bits&lt;bits_type&gt;(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a>);</div>
<div class="line"><a name="l14551"></a><span class="lineno">14551</span>&#160;                <span class="keyword">const</span> std::uint64_t E = bits &gt;&gt; (kPrecision - 1);</div>
<div class="line"><a name="l14552"></a><span class="lineno">14552</span>&#160;                <span class="keyword">const</span> std::uint64_t F = bits &amp; (kHiddenBit - 1);</div>
<div class="line"><a name="l14553"></a><span class="lineno">14553</span>&#160; </div>
<div class="line"><a name="l14554"></a><span class="lineno">14554</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_denormal = E == 0;</div>
<div class="line"><a name="l14555"></a><span class="lineno">14555</span>&#160;                <span class="keyword">const</span> diyfp v = is_denormal</div>
<div class="line"><a name="l14556"></a><span class="lineno">14556</span>&#160;                        ? diyfp(F, kMinExp)</div>
<div class="line"><a name="l14557"></a><span class="lineno">14557</span>&#160;                        : diyfp(F + kHiddenBit, static_cast&lt;int&gt;(E) - kBias);</div>
<div class="line"><a name="l14558"></a><span class="lineno">14558</span>&#160; </div>
<div class="line"><a name="l14559"></a><span class="lineno">14559</span>&#160;                <span class="comment">// Compute the boundaries m- and m+ of the floating-point value</span></div>
<div class="line"><a name="l14560"></a><span class="lineno">14560</span>&#160;                <span class="comment">// v = f * 2^e.</span></div>
<div class="line"><a name="l14561"></a><span class="lineno">14561</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14562"></a><span class="lineno">14562</span>&#160;                <span class="comment">// Determine v- and v+, the floating-point predecessor and successor if v,</span></div>
<div class="line"><a name="l14563"></a><span class="lineno">14563</span>&#160;                <span class="comment">// respectively.</span></div>
<div class="line"><a name="l14564"></a><span class="lineno">14564</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14565"></a><span class="lineno">14565</span>&#160;                <span class="comment">//      v- = v - 2^e        if f != 2^(p-1) or e == e_min                (A)</span></div>
<div class="line"><a name="l14566"></a><span class="lineno">14566</span>&#160;                <span class="comment">//         = v - 2^(e-1)    if f == 2^(p-1) and e &gt; e_min                (B)</span></div>
<div class="line"><a name="l14567"></a><span class="lineno">14567</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14568"></a><span class="lineno">14568</span>&#160;                <span class="comment">//      v+ = v + 2^e</span></div>
<div class="line"><a name="l14569"></a><span class="lineno">14569</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14570"></a><span class="lineno">14570</span>&#160;                <span class="comment">// Let m- = (v- + v) / 2 and m+ = (v + v+) / 2. All real numbers _strictly_</span></div>
<div class="line"><a name="l14571"></a><span class="lineno">14571</span>&#160;                <span class="comment">// between m- and m+ round to v, regardless of how the input rounding</span></div>
<div class="line"><a name="l14572"></a><span class="lineno">14572</span>&#160;                <span class="comment">// algorithm breaks ties.</span></div>
<div class="line"><a name="l14573"></a><span class="lineno">14573</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14574"></a><span class="lineno">14574</span>&#160;                <span class="comment">//      ---+-------------+-------------+-------------+-------------+---  (A)</span></div>
<div class="line"><a name="l14575"></a><span class="lineno">14575</span>&#160;                <span class="comment">//         v-            m-            v             m+            v+</span></div>
<div class="line"><a name="l14576"></a><span class="lineno">14576</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14577"></a><span class="lineno">14577</span>&#160;                <span class="comment">//      -----------------+------+------+-------------+-------------+---  (B)</span></div>
<div class="line"><a name="l14578"></a><span class="lineno">14578</span>&#160;                <span class="comment">//                       v-     m-     v             m+            v+</span></div>
<div class="line"><a name="l14579"></a><span class="lineno">14579</span>&#160; </div>
<div class="line"><a name="l14580"></a><span class="lineno">14580</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> lower_boundary_is_closer = F == 0 &amp;&amp; E &gt; 1;</div>
<div class="line"><a name="l14581"></a><span class="lineno">14581</span>&#160;                <span class="keyword">const</span> diyfp m_plus = diyfp(2 * v.f + 1, v.e - 1);</div>
<div class="line"><a name="l14582"></a><span class="lineno">14582</span>&#160;                <span class="keyword">const</span> diyfp m_minus = lower_boundary_is_closer</div>
<div class="line"><a name="l14583"></a><span class="lineno">14583</span>&#160;                        ? diyfp(4 * v.f - 1, v.e - 2)  <span class="comment">// (B)</span></div>
<div class="line"><a name="l14584"></a><span class="lineno">14584</span>&#160;                        : diyfp(2 * v.f - 1, v.e - 1); <span class="comment">// (A)</span></div>
<div class="line"><a name="l14585"></a><span class="lineno">14585</span>&#160; </div>
<div class="line"><a name="l14586"></a><span class="lineno">14586</span>&#160;                <span class="comment">// Determine the normalized w+ = m+.</span></div>
<div class="line"><a name="l14587"></a><span class="lineno">14587</span>&#160;                <span class="keyword">const</span> diyfp w_plus = diyfp::normalize(m_plus);</div>
<div class="line"><a name="l14588"></a><span class="lineno">14588</span>&#160; </div>
<div class="line"><a name="l14589"></a><span class="lineno">14589</span>&#160;                <span class="comment">// Determine w- = m- such that e_(w-) = e_(w+).</span></div>
<div class="line"><a name="l14590"></a><span class="lineno">14590</span>&#160;                <span class="keyword">const</span> diyfp w_minus = diyfp::normalize_to(m_minus, w_plus.e);</div>
<div class="line"><a name="l14591"></a><span class="lineno">14591</span>&#160; </div>
<div class="line"><a name="l14592"></a><span class="lineno">14592</span>&#160;                <span class="keywordflow">return</span> {diyfp::normalize(v), w_minus, w_plus};</div>
<div class="line"><a name="l14593"></a><span class="lineno">14593</span>&#160;            }</div>
<div class="ttc" id="anamespaceexprtk_1_1details_html_a6f82a5d5d177f717db648d56438fd693"><div class="ttname"><a href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">exprtk::details::value</a></div><div class="ttdeci">T value(details::expression_node&lt; T &gt; *n)</div><div class="ttdef"><b>Definition:</b> <a href="exprtk_8hpp_source.html#l12448">exprtk.hpp:12448</a></div></div>
<div class="ttc" id="anamespacempfr_html_a975d2c1bc89e75352a00cd11c7fe5edd"><div class="ttname"><a href="namespacempfr.html#a975d2c1bc89e75352a00cd11c7fe5edd">mpfr::isfinite</a></div><div class="ttdeci">bool isfinite(const mpreal &amp;op)</div><div class="ttdef"><b>Definition:</b> <a href="mpreal_8h_source.html#l01726">mpreal.h:1726</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36ded358763b5dbcea9867660fbe4e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ded358763b5dbcea9867660fbe4e28">&#9670;&nbsp;</a></span>find_largest_pow10()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nlohmann::detail::dtoa_impl::find_largest_pow10 </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t &amp;&#160;</td>
          <td class="paramname"><em>pow10</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For n != 0, returns k, such that pow10 := 10^(k-1) &lt;= n &lt; 10^k. For n == 0, returns 1 and sets pow10 := 1. </p>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14831">14831</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14832"></a><span class="lineno">14832</span>&#160;            {</div>
<div class="line"><a name="l14833"></a><span class="lineno">14833</span>&#160;                <span class="comment">// LCOV_EXCL_START</span></div>
<div class="line"><a name="l14834"></a><span class="lineno">14834</span>&#160;                <span class="keywordflow">if</span> (n &gt;= 1000000000)</div>
<div class="line"><a name="l14835"></a><span class="lineno">14835</span>&#160;                {</div>
<div class="line"><a name="l14836"></a><span class="lineno">14836</span>&#160;                    pow10 = 1000000000;</div>
<div class="line"><a name="l14837"></a><span class="lineno">14837</span>&#160;                    <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l14838"></a><span class="lineno">14838</span>&#160;                }</div>
<div class="line"><a name="l14839"></a><span class="lineno">14839</span>&#160;                <span class="comment">// LCOV_EXCL_STOP</span></div>
<div class="line"><a name="l14840"></a><span class="lineno">14840</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 100000000)</div>
<div class="line"><a name="l14841"></a><span class="lineno">14841</span>&#160;                {</div>
<div class="line"><a name="l14842"></a><span class="lineno">14842</span>&#160;                    pow10 = 100000000;</div>
<div class="line"><a name="l14843"></a><span class="lineno">14843</span>&#160;                    <span class="keywordflow">return</span>  9;</div>
<div class="line"><a name="l14844"></a><span class="lineno">14844</span>&#160;                }</div>
<div class="line"><a name="l14845"></a><span class="lineno">14845</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 10000000)</div>
<div class="line"><a name="l14846"></a><span class="lineno">14846</span>&#160;                {</div>
<div class="line"><a name="l14847"></a><span class="lineno">14847</span>&#160;                    pow10 = 10000000;</div>
<div class="line"><a name="l14848"></a><span class="lineno">14848</span>&#160;                    <span class="keywordflow">return</span>  8;</div>
<div class="line"><a name="l14849"></a><span class="lineno">14849</span>&#160;                }</div>
<div class="line"><a name="l14850"></a><span class="lineno">14850</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 1000000)</div>
<div class="line"><a name="l14851"></a><span class="lineno">14851</span>&#160;                {</div>
<div class="line"><a name="l14852"></a><span class="lineno">14852</span>&#160;                    pow10 = 1000000;</div>
<div class="line"><a name="l14853"></a><span class="lineno">14853</span>&#160;                    <span class="keywordflow">return</span>  7;</div>
<div class="line"><a name="l14854"></a><span class="lineno">14854</span>&#160;                }</div>
<div class="line"><a name="l14855"></a><span class="lineno">14855</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 100000)</div>
<div class="line"><a name="l14856"></a><span class="lineno">14856</span>&#160;                {</div>
<div class="line"><a name="l14857"></a><span class="lineno">14857</span>&#160;                    pow10 = 100000;</div>
<div class="line"><a name="l14858"></a><span class="lineno">14858</span>&#160;                    <span class="keywordflow">return</span>  6;</div>
<div class="line"><a name="l14859"></a><span class="lineno">14859</span>&#160;                }</div>
<div class="line"><a name="l14860"></a><span class="lineno">14860</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 10000)</div>
<div class="line"><a name="l14861"></a><span class="lineno">14861</span>&#160;                {</div>
<div class="line"><a name="l14862"></a><span class="lineno">14862</span>&#160;                    pow10 = 10000;</div>
<div class="line"><a name="l14863"></a><span class="lineno">14863</span>&#160;                    <span class="keywordflow">return</span>  5;</div>
<div class="line"><a name="l14864"></a><span class="lineno">14864</span>&#160;                }</div>
<div class="line"><a name="l14865"></a><span class="lineno">14865</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 1000)</div>
<div class="line"><a name="l14866"></a><span class="lineno">14866</span>&#160;                {</div>
<div class="line"><a name="l14867"></a><span class="lineno">14867</span>&#160;                    pow10 = 1000;</div>
<div class="line"><a name="l14868"></a><span class="lineno">14868</span>&#160;                    <span class="keywordflow">return</span>  4;</div>
<div class="line"><a name="l14869"></a><span class="lineno">14869</span>&#160;                }</div>
<div class="line"><a name="l14870"></a><span class="lineno">14870</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 100)</div>
<div class="line"><a name="l14871"></a><span class="lineno">14871</span>&#160;                {</div>
<div class="line"><a name="l14872"></a><span class="lineno">14872</span>&#160;                    pow10 = 100;</div>
<div class="line"><a name="l14873"></a><span class="lineno">14873</span>&#160;                    <span class="keywordflow">return</span>  3;</div>
<div class="line"><a name="l14874"></a><span class="lineno">14874</span>&#160;                }</div>
<div class="line"><a name="l14875"></a><span class="lineno">14875</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &gt;= 10)</div>
<div class="line"><a name="l14876"></a><span class="lineno">14876</span>&#160;                {</div>
<div class="line"><a name="l14877"></a><span class="lineno">14877</span>&#160;                    pow10 = 10;</div>
<div class="line"><a name="l14878"></a><span class="lineno">14878</span>&#160;                    <span class="keywordflow">return</span>  2;</div>
<div class="line"><a name="l14879"></a><span class="lineno">14879</span>&#160;                }</div>
<div class="line"><a name="l14880"></a><span class="lineno">14880</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l14881"></a><span class="lineno">14881</span>&#160;                {</div>
<div class="line"><a name="l14882"></a><span class="lineno">14882</span>&#160;                    pow10 = 1;</div>
<div class="line"><a name="l14883"></a><span class="lineno">14883</span>&#160;                    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l14884"></a><span class="lineno">14884</span>&#160;                }</div>
<div class="line"><a name="l14885"></a><span class="lineno">14885</span>&#160;            }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab441f2761e33839ca48bc2225e14a2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab441f2761e33839ca48bc2225e14a2a9">&#9670;&nbsp;</a></span>format_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="json_8hpp.html#a5f2aaec3b681d0a72f7d6e90b70cdcd1">JSON_HEDLEY_RETURNS_NON_NULL</a> char* nlohmann::detail::dtoa_impl::format_buffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>decimal_exponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prettify v = buf * 10^decimal_exponent </p>
<p>If v is in the range [10^min_exp, 10^max_exp) it will be printed in fixed-point notation. Otherwise it will be printed in exponential notation.</p>
<dl class="section pre"><dt>Precondition</dt><dd>min_exp &lt; 0 </dd>
<dd>
max_exp &gt; 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l15321">15321</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l15323"></a><span class="lineno">15323</span>&#160;            {</div>
<div class="line"><a name="l15324"></a><span class="lineno">15324</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(min_exp &lt; 0);</div>
<div class="line"><a name="l15325"></a><span class="lineno">15325</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(max_exp &gt; 0);</div>
<div class="line"><a name="l15326"></a><span class="lineno">15326</span>&#160; </div>
<div class="line"><a name="l15327"></a><span class="lineno">15327</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> k = len;</div>
<div class="line"><a name="l15328"></a><span class="lineno">15328</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> n = len + decimal_exponent;</div>
<div class="line"><a name="l15329"></a><span class="lineno">15329</span>&#160; </div>
<div class="line"><a name="l15330"></a><span class="lineno">15330</span>&#160;                <span class="comment">// v = buf * 10^(n-k)</span></div>
<div class="line"><a name="l15331"></a><span class="lineno">15331</span>&#160;                <span class="comment">// k is the length of the buffer (number of decimal digits)</span></div>
<div class="line"><a name="l15332"></a><span class="lineno">15332</span>&#160;                <span class="comment">// n is the position of the decimal point relative to the start of the buffer.</span></div>
<div class="line"><a name="l15333"></a><span class="lineno">15333</span>&#160; </div>
<div class="line"><a name="l15334"></a><span class="lineno">15334</span>&#160;                <span class="keywordflow">if</span> (k &lt;= n &amp;&amp; n &lt;= max_exp)</div>
<div class="line"><a name="l15335"></a><span class="lineno">15335</span>&#160;                {</div>
<div class="line"><a name="l15336"></a><span class="lineno">15336</span>&#160;                    <span class="comment">// digits[000]</span></div>
<div class="line"><a name="l15337"></a><span class="lineno">15337</span>&#160;                    <span class="comment">// len &lt;= max_exp + 2</span></div>
<div class="line"><a name="l15338"></a><span class="lineno">15338</span>&#160; </div>
<div class="line"><a name="l15339"></a><span class="lineno">15339</span>&#160;                    std::memset(buf + k, <span class="charliteral">&#39;0&#39;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(n) - <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k));</div>
<div class="line"><a name="l15340"></a><span class="lineno">15340</span>&#160;                    <span class="comment">// Make it look like a floating-point number (#362, #378)</span></div>
<div class="line"><a name="l15341"></a><span class="lineno">15341</span>&#160;                    buf[n + 0] = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l15342"></a><span class="lineno">15342</span>&#160;                    buf[n + 1] = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l15343"></a><span class="lineno">15343</span>&#160;                    <span class="keywordflow">return</span> buf + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(n) + 2);</div>
<div class="line"><a name="l15344"></a><span class="lineno">15344</span>&#160;                }</div>
<div class="line"><a name="l15345"></a><span class="lineno">15345</span>&#160; </div>
<div class="line"><a name="l15346"></a><span class="lineno">15346</span>&#160;                <span class="keywordflow">if</span> (0 &lt; n &amp;&amp; n &lt;= max_exp)</div>
<div class="line"><a name="l15347"></a><span class="lineno">15347</span>&#160;                {</div>
<div class="line"><a name="l15348"></a><span class="lineno">15348</span>&#160;                    <span class="comment">// dig.its</span></div>
<div class="line"><a name="l15349"></a><span class="lineno">15349</span>&#160;                    <span class="comment">// len &lt;= max_digits10 + 1</span></div>
<div class="line"><a name="l15350"></a><span class="lineno">15350</span>&#160; </div>
<div class="line"><a name="l15351"></a><span class="lineno">15351</span>&#160;                    <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(k &gt; n);</div>
<div class="line"><a name="l15352"></a><span class="lineno">15352</span>&#160; </div>
<div class="line"><a name="l15353"></a><span class="lineno">15353</span>&#160;                    std::memmove(buf + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(n) + 1), buf + n, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k) - <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(n));</div>
<div class="line"><a name="l15354"></a><span class="lineno">15354</span>&#160;                    buf[n] = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l15355"></a><span class="lineno">15355</span>&#160;                    <span class="keywordflow">return</span> buf + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k) + 1U);</div>
<div class="line"><a name="l15356"></a><span class="lineno">15356</span>&#160;                }</div>
<div class="line"><a name="l15357"></a><span class="lineno">15357</span>&#160; </div>
<div class="line"><a name="l15358"></a><span class="lineno">15358</span>&#160;                <span class="keywordflow">if</span> (min_exp &lt; n &amp;&amp; n &lt;= 0)</div>
<div class="line"><a name="l15359"></a><span class="lineno">15359</span>&#160;                {</div>
<div class="line"><a name="l15360"></a><span class="lineno">15360</span>&#160;                    <span class="comment">// 0.[000]digits</span></div>
<div class="line"><a name="l15361"></a><span class="lineno">15361</span>&#160;                    <span class="comment">// len &lt;= 2 + (-min_exp - 1) + max_digits10</span></div>
<div class="line"><a name="l15362"></a><span class="lineno">15362</span>&#160; </div>
<div class="line"><a name="l15363"></a><span class="lineno">15363</span>&#160;                    std::memmove(buf + (2 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(-n)), buf, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k));</div>
<div class="line"><a name="l15364"></a><span class="lineno">15364</span>&#160;                    buf[0] = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l15365"></a><span class="lineno">15365</span>&#160;                    buf[1] = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l15366"></a><span class="lineno">15366</span>&#160;                    std::memset(buf + 2, <span class="charliteral">&#39;0&#39;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(-n));</div>
<div class="line"><a name="l15367"></a><span class="lineno">15367</span>&#160;                    <span class="keywordflow">return</span> buf + (2U + <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(-n) + <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k));</div>
<div class="line"><a name="l15368"></a><span class="lineno">15368</span>&#160;                }</div>
<div class="line"><a name="l15369"></a><span class="lineno">15369</span>&#160; </div>
<div class="line"><a name="l15370"></a><span class="lineno">15370</span>&#160;                <span class="keywordflow">if</span> (k == 1)</div>
<div class="line"><a name="l15371"></a><span class="lineno">15371</span>&#160;                {</div>
<div class="line"><a name="l15372"></a><span class="lineno">15372</span>&#160;                    <span class="comment">// dE+123</span></div>
<div class="line"><a name="l15373"></a><span class="lineno">15373</span>&#160;                    <span class="comment">// len &lt;= 1 + 5</span></div>
<div class="line"><a name="l15374"></a><span class="lineno">15374</span>&#160; </div>
<div class="line"><a name="l15375"></a><span class="lineno">15375</span>&#160;                    buf += 1;</div>
<div class="line"><a name="l15376"></a><span class="lineno">15376</span>&#160;                }</div>
<div class="line"><a name="l15377"></a><span class="lineno">15377</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l15378"></a><span class="lineno">15378</span>&#160;                {</div>
<div class="line"><a name="l15379"></a><span class="lineno">15379</span>&#160;                    <span class="comment">// d.igitsE+123</span></div>
<div class="line"><a name="l15380"></a><span class="lineno">15380</span>&#160;                    <span class="comment">// len &lt;= max_digits10 + 1 + 5</span></div>
<div class="line"><a name="l15381"></a><span class="lineno">15381</span>&#160; </div>
<div class="line"><a name="l15382"></a><span class="lineno">15382</span>&#160;                    std::memmove(buf + 2, buf + 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k) - 1);</div>
<div class="line"><a name="l15383"></a><span class="lineno">15383</span>&#160;                    buf[1] = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l15384"></a><span class="lineno">15384</span>&#160;                    buf += 1 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(k);</div>
<div class="line"><a name="l15385"></a><span class="lineno">15385</span>&#160;                }</div>
<div class="line"><a name="l15386"></a><span class="lineno">15386</span>&#160; </div>
<div class="line"><a name="l15387"></a><span class="lineno">15387</span>&#160;                *buf++ = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line"><a name="l15388"></a><span class="lineno">15388</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ad90f19ed10d8133b727df4b9bc5ddf5c">append_exponent</a>(buf, n - 1);</div>
<div class="line"><a name="l15389"></a><span class="lineno">15389</span>&#160;            }</div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_ad90f19ed10d8133b727df4b9bc5ddf5c"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ad90f19ed10d8133b727df4b9bc5ddf5c">nlohmann::detail::dtoa_impl::append_exponent</a></div><div class="ttdeci">JSON_HEDLEY_RETURNS_NON_NULL char * append_exponent(char *buf, int e)</div><div class="ttdoc">appends a decimal representation of e to buf</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l15269">json.hpp:15269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adbf329a18c5cf854a3477327afd2200b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf329a18c5cf854a3477327afd2200b">&#9670;&nbsp;</a></span>get_cached_power_for_binary_exponent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1cached__power.html">cached_power</a> nlohmann::detail::dtoa_impl::get_cached_power_for_binary_exponent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For a normalized diyfp w = f * 2^e, this function returns a (normalized) cached power-of-ten c = f_c * 2^e_c, such that the exponent of the product w * c satisfies (Definition 3.2 from [1]) </p><pre class="fragment"> alpha &lt;= e_c + e + q &lt;= gamma.
</pre> 
<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14667">14667</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14668"></a><span class="lineno">14668</span>&#160;            {</div>
<div class="line"><a name="l14669"></a><span class="lineno">14669</span>&#160;                <span class="comment">// Now</span></div>
<div class="line"><a name="l14670"></a><span class="lineno">14670</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14671"></a><span class="lineno">14671</span>&#160;                <span class="comment">//      alpha &lt;= e_c + e + q &lt;= gamma                                    (1)</span></div>
<div class="line"><a name="l14672"></a><span class="lineno">14672</span>&#160;                <span class="comment">//      ==&gt; f_c * 2^alpha &lt;= c * 2^e * 2^q</span></div>
<div class="line"><a name="l14673"></a><span class="lineno">14673</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14674"></a><span class="lineno">14674</span>&#160;                <span class="comment">// and since the c&#39;s are normalized, 2^(q-1) &lt;= f_c,</span></div>
<div class="line"><a name="l14675"></a><span class="lineno">14675</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14676"></a><span class="lineno">14676</span>&#160;                <span class="comment">//      ==&gt; 2^(q - 1 + alpha) &lt;= c * 2^(e + q)</span></div>
<div class="line"><a name="l14677"></a><span class="lineno">14677</span>&#160;                <span class="comment">//      ==&gt; 2^(alpha - e - 1) &lt;= c</span></div>
<div class="line"><a name="l14678"></a><span class="lineno">14678</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14679"></a><span class="lineno">14679</span>&#160;                <span class="comment">// If c were an exact power of ten, i.e. c = 10^k, one may determine k as</span></div>
<div class="line"><a name="l14680"></a><span class="lineno">14680</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14681"></a><span class="lineno">14681</span>&#160;                <span class="comment">//      k = ceil( log_10( 2^(alpha - e - 1) ) )</span></div>
<div class="line"><a name="l14682"></a><span class="lineno">14682</span>&#160;                <span class="comment">//        = ceil( (alpha - e - 1) * log_10(2) )</span></div>
<div class="line"><a name="l14683"></a><span class="lineno">14683</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14684"></a><span class="lineno">14684</span>&#160;                <span class="comment">// From the paper:</span></div>
<div class="line"><a name="l14685"></a><span class="lineno">14685</span>&#160;                <span class="comment">// &quot;In theory the result of the procedure could be wrong since c is rounded,</span></div>
<div class="line"><a name="l14686"></a><span class="lineno">14686</span>&#160;                <span class="comment">//  and the computation itself is approximated [...]. In practice, however,</span></div>
<div class="line"><a name="l14687"></a><span class="lineno">14687</span>&#160;                <span class="comment">//  this simple function is sufficient.&quot;</span></div>
<div class="line"><a name="l14688"></a><span class="lineno">14688</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14689"></a><span class="lineno">14689</span>&#160;                <span class="comment">// For IEEE double precision floating-point numbers converted into</span></div>
<div class="line"><a name="l14690"></a><span class="lineno">14690</span>&#160;                <span class="comment">// normalized diyfp&#39;s w = f * 2^e, with q = 64,</span></div>
<div class="line"><a name="l14691"></a><span class="lineno">14691</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14692"></a><span class="lineno">14692</span>&#160;                <span class="comment">//      e &gt;= -1022      (min IEEE exponent)</span></div>
<div class="line"><a name="l14693"></a><span class="lineno">14693</span>&#160;                <span class="comment">//           -52        (p - 1)</span></div>
<div class="line"><a name="l14694"></a><span class="lineno">14694</span>&#160;                <span class="comment">//           -52        (p - 1, possibly normalize denormal IEEE numbers)</span></div>
<div class="line"><a name="l14695"></a><span class="lineno">14695</span>&#160;                <span class="comment">//           -11        (normalize the diyfp)</span></div>
<div class="line"><a name="l14696"></a><span class="lineno">14696</span>&#160;                <span class="comment">//         = -1137</span></div>
<div class="line"><a name="l14697"></a><span class="lineno">14697</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14698"></a><span class="lineno">14698</span>&#160;                <span class="comment">// and</span></div>
<div class="line"><a name="l14699"></a><span class="lineno">14699</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14700"></a><span class="lineno">14700</span>&#160;                <span class="comment">//      e &lt;= +1023      (max IEEE exponent)</span></div>
<div class="line"><a name="l14701"></a><span class="lineno">14701</span>&#160;                <span class="comment">//           -52        (p - 1)</span></div>
<div class="line"><a name="l14702"></a><span class="lineno">14702</span>&#160;                <span class="comment">//           -11        (normalize the diyfp)</span></div>
<div class="line"><a name="l14703"></a><span class="lineno">14703</span>&#160;                <span class="comment">//         = 960</span></div>
<div class="line"><a name="l14704"></a><span class="lineno">14704</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14705"></a><span class="lineno">14705</span>&#160;                <span class="comment">// This binary exponent range [-1137,960] results in a decimal exponent</span></div>
<div class="line"><a name="l14706"></a><span class="lineno">14706</span>&#160;                <span class="comment">// range [-307,324]. One does not need to store a cached power for each</span></div>
<div class="line"><a name="l14707"></a><span class="lineno">14707</span>&#160;                <span class="comment">// k in this range. For each such k it suffices to find a cached power</span></div>
<div class="line"><a name="l14708"></a><span class="lineno">14708</span>&#160;                <span class="comment">// such that the exponent of the product lies in [alpha,gamma].</span></div>
<div class="line"><a name="l14709"></a><span class="lineno">14709</span>&#160;                <span class="comment">// This implies that the difference of the decimal exponents of adjacent</span></div>
<div class="line"><a name="l14710"></a><span class="lineno">14710</span>&#160;                <span class="comment">// table entries must be less than or equal to</span></div>
<div class="line"><a name="l14711"></a><span class="lineno">14711</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14712"></a><span class="lineno">14712</span>&#160;                <span class="comment">//      floor( (gamma - alpha) * log_10(2) ) = 8.</span></div>
<div class="line"><a name="l14713"></a><span class="lineno">14713</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14714"></a><span class="lineno">14714</span>&#160;                <span class="comment">// (A smaller distance gamma-alpha would require a larger table.)</span></div>
<div class="line"><a name="l14715"></a><span class="lineno">14715</span>&#160; </div>
<div class="line"><a name="l14716"></a><span class="lineno">14716</span>&#160;                <span class="comment">// NB:</span></div>
<div class="line"><a name="l14717"></a><span class="lineno">14717</span>&#160;                <span class="comment">// Actually this function returns c, such that -60 &lt;= e_c + e + 64 &lt;= -34.</span></div>
<div class="line"><a name="l14718"></a><span class="lineno">14718</span>&#160; </div>
<div class="line"><a name="l14719"></a><span class="lineno">14719</span>&#160;                constexpr <span class="keywordtype">int</span> kCachedPowersMinDecExp = -300;</div>
<div class="line"><a name="l14720"></a><span class="lineno">14720</span>&#160;                constexpr <span class="keywordtype">int</span> kCachedPowersDecStep = 8;</div>
<div class="line"><a name="l14721"></a><span class="lineno">14721</span>&#160; </div>
<div class="line"><a name="l14722"></a><span class="lineno">14722</span>&#160;                <span class="keyword">static</span> constexpr std::array&lt;cached_power, 79&gt; kCachedPowers =</div>
<div class="line"><a name="l14723"></a><span class="lineno">14723</span>&#160;                {</div>
<div class="line"><a name="l14724"></a><span class="lineno">14724</span>&#160;                    {</div>
<div class="line"><a name="l14725"></a><span class="lineno">14725</span>&#160;                        { 0xAB70FE17C79AC6CA, -1060, -300 },</div>
<div class="line"><a name="l14726"></a><span class="lineno">14726</span>&#160;                        { 0xFF77B1FCBEBCDC4F, -1034, -292 },</div>
<div class="line"><a name="l14727"></a><span class="lineno">14727</span>&#160;                        { 0xBE5691EF416BD60C, -1007, -284 },</div>
<div class="line"><a name="l14728"></a><span class="lineno">14728</span>&#160;                        { 0x8DD01FAD907FFC3C,  -980, -276 },</div>
<div class="line"><a name="l14729"></a><span class="lineno">14729</span>&#160;                        { 0xD3515C2831559A83,  -954, -268 },</div>
<div class="line"><a name="l14730"></a><span class="lineno">14730</span>&#160;                        { 0x9D71AC8FADA6C9B5,  -927, -260 },</div>
<div class="line"><a name="l14731"></a><span class="lineno">14731</span>&#160;                        { 0xEA9C227723EE8BCB,  -901, -252 },</div>
<div class="line"><a name="l14732"></a><span class="lineno">14732</span>&#160;                        { 0xAECC49914078536D,  -874, -244 },</div>
<div class="line"><a name="l14733"></a><span class="lineno">14733</span>&#160;                        { 0x823C12795DB6CE57,  -847, -236 },</div>
<div class="line"><a name="l14734"></a><span class="lineno">14734</span>&#160;                        { 0xC21094364DFB5637,  -821, -228 },</div>
<div class="line"><a name="l14735"></a><span class="lineno">14735</span>&#160;                        { 0x9096EA6F3848984F,  -794, -220 },</div>
<div class="line"><a name="l14736"></a><span class="lineno">14736</span>&#160;                        { 0xD77485CB25823AC7,  -768, -212 },</div>
<div class="line"><a name="l14737"></a><span class="lineno">14737</span>&#160;                        { 0xA086CFCD97BF97F4,  -741, -204 },</div>
<div class="line"><a name="l14738"></a><span class="lineno">14738</span>&#160;                        { 0xEF340A98172AACE5,  -715, -196 },</div>
<div class="line"><a name="l14739"></a><span class="lineno">14739</span>&#160;                        { 0xB23867FB2A35B28E,  -688, -188 },</div>
<div class="line"><a name="l14740"></a><span class="lineno">14740</span>&#160;                        { 0x84C8D4DFD2C63F3B,  -661, -180 },</div>
<div class="line"><a name="l14741"></a><span class="lineno">14741</span>&#160;                        { 0xC5DD44271AD3CDBA,  -635, -172 },</div>
<div class="line"><a name="l14742"></a><span class="lineno">14742</span>&#160;                        { 0x936B9FCEBB25C996,  -608, -164 },</div>
<div class="line"><a name="l14743"></a><span class="lineno">14743</span>&#160;                        { 0xDBAC6C247D62A584,  -582, -156 },</div>
<div class="line"><a name="l14744"></a><span class="lineno">14744</span>&#160;                        { 0xA3AB66580D5FDAF6,  -555, -148 },</div>
<div class="line"><a name="l14745"></a><span class="lineno">14745</span>&#160;                        { 0xF3E2F893DEC3F126,  -529, -140 },</div>
<div class="line"><a name="l14746"></a><span class="lineno">14746</span>&#160;                        { 0xB5B5ADA8AAFF80B8,  -502, -132 },</div>
<div class="line"><a name="l14747"></a><span class="lineno">14747</span>&#160;                        { 0x87625F056C7C4A8B,  -475, -124 },</div>
<div class="line"><a name="l14748"></a><span class="lineno">14748</span>&#160;                        { 0xC9BCFF6034C13053,  -449, -116 },</div>
<div class="line"><a name="l14749"></a><span class="lineno">14749</span>&#160;                        { 0x964E858C91BA2655,  -422, -108 },</div>
<div class="line"><a name="l14750"></a><span class="lineno">14750</span>&#160;                        { 0xDFF9772470297EBD,  -396, -100 },</div>
<div class="line"><a name="l14751"></a><span class="lineno">14751</span>&#160;                        { 0xA6DFBD9FB8E5B88F,  -369,  -92 },</div>
<div class="line"><a name="l14752"></a><span class="lineno">14752</span>&#160;                        { 0xF8A95FCF88747D94,  -343,  -84 },</div>
<div class="line"><a name="l14753"></a><span class="lineno">14753</span>&#160;                        { 0xB94470938FA89BCF,  -316,  -76 },</div>
<div class="line"><a name="l14754"></a><span class="lineno">14754</span>&#160;                        { 0x8A08F0F8BF0F156B,  -289,  -68 },</div>
<div class="line"><a name="l14755"></a><span class="lineno">14755</span>&#160;                        { 0xCDB02555653131B6,  -263,  -60 },</div>
<div class="line"><a name="l14756"></a><span class="lineno">14756</span>&#160;                        { 0x993FE2C6D07B7FAC,  -236,  -52 },</div>
<div class="line"><a name="l14757"></a><span class="lineno">14757</span>&#160;                        { 0xE45C10C42A2B3B06,  -210,  -44 },</div>
<div class="line"><a name="l14758"></a><span class="lineno">14758</span>&#160;                        { 0xAA242499697392D3,  -183,  -36 },</div>
<div class="line"><a name="l14759"></a><span class="lineno">14759</span>&#160;                        { 0xFD87B5F28300CA0E,  -157,  -28 },</div>
<div class="line"><a name="l14760"></a><span class="lineno">14760</span>&#160;                        { 0xBCE5086492111AEB,  -130,  -20 },</div>
<div class="line"><a name="l14761"></a><span class="lineno">14761</span>&#160;                        { 0x8CBCCC096F5088CC,  -103,  -12 },</div>
<div class="line"><a name="l14762"></a><span class="lineno">14762</span>&#160;                        { 0xD1B71758E219652C,   -77,   -4 },</div>
<div class="line"><a name="l14763"></a><span class="lineno">14763</span>&#160;                        { 0x9C40000000000000,   -50,    4 },</div>
<div class="line"><a name="l14764"></a><span class="lineno">14764</span>&#160;                        { 0xE8D4A51000000000,   -24,   12 },</div>
<div class="line"><a name="l14765"></a><span class="lineno">14765</span>&#160;                        { 0xAD78EBC5AC620000,     3,   20 },</div>
<div class="line"><a name="l14766"></a><span class="lineno">14766</span>&#160;                        { 0x813F3978F8940984,    30,   28 },</div>
<div class="line"><a name="l14767"></a><span class="lineno">14767</span>&#160;                        { 0xC097CE7BC90715B3,    56,   36 },</div>
<div class="line"><a name="l14768"></a><span class="lineno">14768</span>&#160;                        { 0x8F7E32CE7BEA5C70,    83,   44 },</div>
<div class="line"><a name="l14769"></a><span class="lineno">14769</span>&#160;                        { 0xD5D238A4ABE98068,   109,   52 },</div>
<div class="line"><a name="l14770"></a><span class="lineno">14770</span>&#160;                        { 0x9F4F2726179A2245,   136,   60 },</div>
<div class="line"><a name="l14771"></a><span class="lineno">14771</span>&#160;                        { 0xED63A231D4C4FB27,   162,   68 },</div>
<div class="line"><a name="l14772"></a><span class="lineno">14772</span>&#160;                        { 0xB0DE65388CC8ADA8,   189,   76 },</div>
<div class="line"><a name="l14773"></a><span class="lineno">14773</span>&#160;                        { 0x83C7088E1AAB65DB,   216,   84 },</div>
<div class="line"><a name="l14774"></a><span class="lineno">14774</span>&#160;                        { 0xC45D1DF942711D9A,   242,   92 },</div>
<div class="line"><a name="l14775"></a><span class="lineno">14775</span>&#160;                        { 0x924D692CA61BE758,   269,  100 },</div>
<div class="line"><a name="l14776"></a><span class="lineno">14776</span>&#160;                        { 0xDA01EE641A708DEA,   295,  108 },</div>
<div class="line"><a name="l14777"></a><span class="lineno">14777</span>&#160;                        { 0xA26DA3999AEF774A,   322,  116 },</div>
<div class="line"><a name="l14778"></a><span class="lineno">14778</span>&#160;                        { 0xF209787BB47D6B85,   348,  124 },</div>
<div class="line"><a name="l14779"></a><span class="lineno">14779</span>&#160;                        { 0xB454E4A179DD1877,   375,  132 },</div>
<div class="line"><a name="l14780"></a><span class="lineno">14780</span>&#160;                        { 0x865B86925B9BC5C2,   402,  140 },</div>
<div class="line"><a name="l14781"></a><span class="lineno">14781</span>&#160;                        { 0xC83553C5C8965D3D,   428,  148 },</div>
<div class="line"><a name="l14782"></a><span class="lineno">14782</span>&#160;                        { 0x952AB45CFA97A0B3,   455,  156 },</div>
<div class="line"><a name="l14783"></a><span class="lineno">14783</span>&#160;                        { 0xDE469FBD99A05FE3,   481,  164 },</div>
<div class="line"><a name="l14784"></a><span class="lineno">14784</span>&#160;                        { 0xA59BC234DB398C25,   508,  172 },</div>
<div class="line"><a name="l14785"></a><span class="lineno">14785</span>&#160;                        { 0xF6C69A72A3989F5C,   534,  180 },</div>
<div class="line"><a name="l14786"></a><span class="lineno">14786</span>&#160;                        { 0xB7DCBF5354E9BECE,   561,  188 },</div>
<div class="line"><a name="l14787"></a><span class="lineno">14787</span>&#160;                        { 0x88FCF317F22241E2,   588,  196 },</div>
<div class="line"><a name="l14788"></a><span class="lineno">14788</span>&#160;                        { 0xCC20CE9BD35C78A5,   614,  204 },</div>
<div class="line"><a name="l14789"></a><span class="lineno">14789</span>&#160;                        { 0x98165AF37B2153DF,   641,  212 },</div>
<div class="line"><a name="l14790"></a><span class="lineno">14790</span>&#160;                        { 0xE2A0B5DC971F303A,   667,  220 },</div>
<div class="line"><a name="l14791"></a><span class="lineno">14791</span>&#160;                        { 0xA8D9D1535CE3B396,   694,  228 },</div>
<div class="line"><a name="l14792"></a><span class="lineno">14792</span>&#160;                        { 0xFB9B7CD9A4A7443C,   720,  236 },</div>
<div class="line"><a name="l14793"></a><span class="lineno">14793</span>&#160;                        { 0xBB764C4CA7A44410,   747,  244 },</div>
<div class="line"><a name="l14794"></a><span class="lineno">14794</span>&#160;                        { 0x8BAB8EEFB6409C1A,   774,  252 },</div>
<div class="line"><a name="l14795"></a><span class="lineno">14795</span>&#160;                        { 0xD01FEF10A657842C,   800,  260 },</div>
<div class="line"><a name="l14796"></a><span class="lineno">14796</span>&#160;                        { 0x9B10A4E5E9913129,   827,  268 },</div>
<div class="line"><a name="l14797"></a><span class="lineno">14797</span>&#160;                        { 0xE7109BFBA19C0C9D,   853,  276 },</div>
<div class="line"><a name="l14798"></a><span class="lineno">14798</span>&#160;                        { 0xAC2820D9623BF429,   880,  284 },</div>
<div class="line"><a name="l14799"></a><span class="lineno">14799</span>&#160;                        { 0x80444B5E7AA7CF85,   907,  292 },</div>
<div class="line"><a name="l14800"></a><span class="lineno">14800</span>&#160;                        { 0xBF21E44003ACDD2D,   933,  300 },</div>
<div class="line"><a name="l14801"></a><span class="lineno">14801</span>&#160;                        { 0x8E679C2F5E44FF8F,   960,  308 },</div>
<div class="line"><a name="l14802"></a><span class="lineno">14802</span>&#160;                        { 0xD433179D9C8CB841,   986,  316 },</div>
<div class="line"><a name="l14803"></a><span class="lineno">14803</span>&#160;                        { 0x9E19DB92B4E31BA9,  1013,  324 },</div>
<div class="line"><a name="l14804"></a><span class="lineno">14804</span>&#160;                    }</div>
<div class="line"><a name="l14805"></a><span class="lineno">14805</span>&#160;                };</div>
<div class="line"><a name="l14806"></a><span class="lineno">14806</span>&#160; </div>
<div class="line"><a name="l14807"></a><span class="lineno">14807</span>&#160;                <span class="comment">// This computation gives exactly the same results for k as</span></div>
<div class="line"><a name="l14808"></a><span class="lineno">14808</span>&#160;                <span class="comment">//      k = ceil((kAlpha - e - 1) * 0.30102999566398114)</span></div>
<div class="line"><a name="l14809"></a><span class="lineno">14809</span>&#160;                <span class="comment">// for |e| &lt;= 1500, but doesn&#39;t require floating-point operations.</span></div>
<div class="line"><a name="l14810"></a><span class="lineno">14810</span>&#160;                <span class="comment">// NB: log_10(2) ~= 78913 / 2^18</span></div>
<div class="line"><a name="l14811"></a><span class="lineno">14811</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(e &gt;= -1500);</div>
<div class="line"><a name="l14812"></a><span class="lineno">14812</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(e &lt;=  1500);</div>
<div class="line"><a name="l14813"></a><span class="lineno">14813</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> f = <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">kAlpha</a> - e - 1;</div>
<div class="line"><a name="l14814"></a><span class="lineno">14814</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> k = (f * 78913) / (1 &lt;&lt; 18) + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(f &gt; 0);</div>
<div class="line"><a name="l14815"></a><span class="lineno">14815</span>&#160; </div>
<div class="line"><a name="l14816"></a><span class="lineno">14816</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> index = (-kCachedPowersMinDecExp + k + (kCachedPowersDecStep - 1)) / kCachedPowersDecStep;</div>
<div class="line"><a name="l14817"></a><span class="lineno">14817</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(index &gt;= 0);</div>
<div class="line"><a name="l14818"></a><span class="lineno">14818</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(index) &lt; kCachedPowers.size());</div>
<div class="line"><a name="l14819"></a><span class="lineno">14819</span>&#160; </div>
<div class="line"><a name="l14820"></a><span class="lineno">14820</span>&#160;                <span class="keyword">const</span> cached_power cached = kCachedPowers[<span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(index)];</div>
<div class="line"><a name="l14821"></a><span class="lineno">14821</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">kAlpha</a> &lt;= cached.e + e + 64);</div>
<div class="line"><a name="l14822"></a><span class="lineno">14822</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a4a750fcc38da1ce68b7e25ab3a230e20">kGamma</a> &gt;= cached.e + e + 64);</div>
<div class="line"><a name="l14823"></a><span class="lineno">14823</span>&#160; </div>
<div class="line"><a name="l14824"></a><span class="lineno">14824</span>&#160;                <span class="keywordflow">return</span> cached;</div>
<div class="line"><a name="l14825"></a><span class="lineno">14825</span>&#160;            }</div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_a4a750fcc38da1ce68b7e25ab3a230e20"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a4a750fcc38da1ce68b7e25ab3a230e20">nlohmann::detail::dtoa_impl::kGamma</a></div><div class="ttdeci">constexpr int kGamma</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14651">json.hpp:14651</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_ac1ea1316de0b4a219f707c76b1db1966"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">nlohmann::detail::dtoa_impl::kAlpha</a></div><div class="ttdeci">constexpr int kAlpha</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14650">json.hpp:14650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05b681dcb8569b9784c6dccfadb01633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b681dcb8569b9784c6dccfadb01633">&#9670;&nbsp;</a></span>grisu2() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nlohmann::detail::dtoa_impl::grisu2 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>decimal_exponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>m_minus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>m_plus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>v = buf * 10^decimal_exponent len is the length of the buffer (number of decimal digits) The buffer must be large enough, i.e. &gt;= max_digits10. </p>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l15169">15169</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l15171"></a><span class="lineno">15171</span>&#160;            {</div>
<div class="line"><a name="l15172"></a><span class="lineno">15172</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(m_plus.e == m_minus.e);</div>
<div class="line"><a name="l15173"></a><span class="lineno">15173</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(m_plus.e == v.e);</div>
<div class="line"><a name="l15174"></a><span class="lineno">15174</span>&#160; </div>
<div class="line"><a name="l15175"></a><span class="lineno">15175</span>&#160;                <span class="comment">//  --------(-----------------------+-----------------------)--------    (A)</span></div>
<div class="line"><a name="l15176"></a><span class="lineno">15176</span>&#160;                <span class="comment">//          m-                      v                       m+</span></div>
<div class="line"><a name="l15177"></a><span class="lineno">15177</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15178"></a><span class="lineno">15178</span>&#160;                <span class="comment">//  --------------------(-----------+-----------------------)--------    (B)</span></div>
<div class="line"><a name="l15179"></a><span class="lineno">15179</span>&#160;                <span class="comment">//                      m-          v                       m+</span></div>
<div class="line"><a name="l15180"></a><span class="lineno">15180</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15181"></a><span class="lineno">15181</span>&#160;                <span class="comment">// First scale v (and m- and m+) such that the exponent is in the range</span></div>
<div class="line"><a name="l15182"></a><span class="lineno">15182</span>&#160;                <span class="comment">// [alpha, gamma].</span></div>
<div class="line"><a name="l15183"></a><span class="lineno">15183</span>&#160; </div>
<div class="line"><a name="l15184"></a><span class="lineno">15184</span>&#160;                <span class="keyword">const</span> cached_power cached = <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#adbf329a18c5cf854a3477327afd2200b">get_cached_power_for_binary_exponent</a>(m_plus.e);</div>
<div class="line"><a name="l15185"></a><span class="lineno">15185</span>&#160; </div>
<div class="line"><a name="l15186"></a><span class="lineno">15186</span>&#160;                <span class="keyword">const</span> diyfp c_minus_k(cached.f, cached.e); <span class="comment">// = c ~= 10^-k</span></div>
<div class="line"><a name="l15187"></a><span class="lineno">15187</span>&#160; </div>
<div class="line"><a name="l15188"></a><span class="lineno">15188</span>&#160;                <span class="comment">// The exponent of the products is = v.e + c_minus_k.e + q and is in the range [alpha,gamma]</span></div>
<div class="line"><a name="l15189"></a><span class="lineno">15189</span>&#160;                <span class="keyword">const</span> diyfp w       = diyfp::mul(v,       c_minus_k);</div>
<div class="line"><a name="l15190"></a><span class="lineno">15190</span>&#160;                <span class="keyword">const</span> diyfp w_minus = diyfp::mul(m_minus, c_minus_k);</div>
<div class="line"><a name="l15191"></a><span class="lineno">15191</span>&#160;                <span class="keyword">const</span> diyfp w_plus  = diyfp::mul(m_plus,  c_minus_k);</div>
<div class="line"><a name="l15192"></a><span class="lineno">15192</span>&#160; </div>
<div class="line"><a name="l15193"></a><span class="lineno">15193</span>&#160;                <span class="comment">//  ----(---+---)---------------(---+---)---------------(---+---)----</span></div>
<div class="line"><a name="l15194"></a><span class="lineno">15194</span>&#160;                <span class="comment">//          w-                      w                       w+</span></div>
<div class="line"><a name="l15195"></a><span class="lineno">15195</span>&#160;                <span class="comment">//          = c*m-                  = c*v                   = c*m+</span></div>
<div class="line"><a name="l15196"></a><span class="lineno">15196</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15197"></a><span class="lineno">15197</span>&#160;                <span class="comment">// diyfp::mul rounds its result and c_minus_k is approximated too. w, w- and</span></div>
<div class="line"><a name="l15198"></a><span class="lineno">15198</span>&#160;                <span class="comment">// w+ are now off by a small amount.</span></div>
<div class="line"><a name="l15199"></a><span class="lineno">15199</span>&#160;                <span class="comment">// In fact:</span></div>
<div class="line"><a name="l15200"></a><span class="lineno">15200</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15201"></a><span class="lineno">15201</span>&#160;                <span class="comment">//      w - v * 10^k &lt; 1 ulp</span></div>
<div class="line"><a name="l15202"></a><span class="lineno">15202</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15203"></a><span class="lineno">15203</span>&#160;                <span class="comment">// To account for this inaccuracy, add resp. subtract 1 ulp.</span></div>
<div class="line"><a name="l15204"></a><span class="lineno">15204</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15205"></a><span class="lineno">15205</span>&#160;                <span class="comment">//  --------+---[---------------(---+---)---------------]---+--------</span></div>
<div class="line"><a name="l15206"></a><span class="lineno">15206</span>&#160;                <span class="comment">//          w-  M-                  w                   M+  w+</span></div>
<div class="line"><a name="l15207"></a><span class="lineno">15207</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15208"></a><span class="lineno">15208</span>&#160;                <span class="comment">// Now any number in [M-, M+] (bounds included) will round to w when input,</span></div>
<div class="line"><a name="l15209"></a><span class="lineno">15209</span>&#160;                <span class="comment">// regardless of how the input rounding algorithm breaks ties.</span></div>
<div class="line"><a name="l15210"></a><span class="lineno">15210</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15211"></a><span class="lineno">15211</span>&#160;                <span class="comment">// And digit_gen generates the shortest possible such number in [M-, M+].</span></div>
<div class="line"><a name="l15212"></a><span class="lineno">15212</span>&#160;                <span class="comment">// Note that this does not mean that Grisu2 always generates the shortest</span></div>
<div class="line"><a name="l15213"></a><span class="lineno">15213</span>&#160;                <span class="comment">// possible number in the interval (m-, m+).</span></div>
<div class="line"><a name="l15214"></a><span class="lineno">15214</span>&#160;                <span class="keyword">const</span> diyfp M_minus(w_minus.f + 1, w_minus.e);</div>
<div class="line"><a name="l15215"></a><span class="lineno">15215</span>&#160;                <span class="keyword">const</span> diyfp M_plus (w_plus.f  - 1, w_plus.e );</div>
<div class="line"><a name="l15216"></a><span class="lineno">15216</span>&#160; </div>
<div class="line"><a name="l15217"></a><span class="lineno">15217</span>&#160;                decimal_exponent = -cached.k; <span class="comment">// = -(-k) = k</span></div>
<div class="line"><a name="l15218"></a><span class="lineno">15218</span>&#160; </div>
<div class="line"><a name="l15219"></a><span class="lineno">15219</span>&#160;                <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a9b899c72b0e1e3dd46d75c2b4e6bcdfb">grisu2_digit_gen</a>(buf, len, decimal_exponent, M_minus, w, M_plus);</div>
<div class="line"><a name="l15220"></a><span class="lineno">15220</span>&#160;            }</div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_a9b899c72b0e1e3dd46d75c2b4e6bcdfb"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a9b899c72b0e1e3dd46d75c2b4e6bcdfb">nlohmann::detail::dtoa_impl::grisu2_digit_gen</a></div><div class="ttdeci">void grisu2_digit_gen(char *buffer, int &amp;length, int &amp;decimal_exponent, diyfp M_minus, diyfp w, diyfp M_plus)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14928">json.hpp:14928</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_adbf329a18c5cf854a3477327afd2200b"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#adbf329a18c5cf854a3477327afd2200b">nlohmann::detail::dtoa_impl::get_cached_power_for_binary_exponent</a></div><div class="ttdeci">cached_power get_cached_power_for_binary_exponent(int e)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14667">json.hpp:14667</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab7a9670a4f4704a5d0347ad7588576b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab7a9670a4f4704a5d0347ad7588576b">&#9670;&nbsp;</a></span>grisu2() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FloatType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void nlohmann::detail::dtoa_impl::grisu2 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>decimal_exponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FloatType&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>v = buf * 10^decimal_exponent len is the length of the buffer (number of decimal digits) The buffer must be large enough, i.e. &gt;= max_digits10. </p>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l15229">15229</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l15230"></a><span class="lineno">15230</span>&#160;            {</div>
<div class="line"><a name="l15231"></a><span class="lineno">15231</span>&#160;                static_assert(diyfp::kPrecision &gt;= std::numeric_limits&lt;FloatType&gt;::digits + 3,</div>
<div class="line"><a name="l15232"></a><span class="lineno">15232</span>&#160;                        <span class="stringliteral">&quot;internal error: not enough precision&quot;</span>);</div>
<div class="line"><a name="l15233"></a><span class="lineno">15233</span>&#160; </div>
<div class="line"><a name="l15234"></a><span class="lineno">15234</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespacempfr.html#a975d2c1bc89e75352a00cd11c7fe5edd">std::isfinite</a>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a>));</div>
<div class="line"><a name="l15235"></a><span class="lineno">15235</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a> &gt; 0);</div>
<div class="line"><a name="l15236"></a><span class="lineno">15236</span>&#160; </div>
<div class="line"><a name="l15237"></a><span class="lineno">15237</span>&#160;                <span class="comment">// If the neighbors (and boundaries) of &#39;value&#39; are always computed for double-precision</span></div>
<div class="line"><a name="l15238"></a><span class="lineno">15238</span>&#160;                <span class="comment">// numbers, all float&#39;s can be recovered using strtod (and strtof). However, the resulting</span></div>
<div class="line"><a name="l15239"></a><span class="lineno">15239</span>&#160;                <span class="comment">// decimal representations are not exactly &quot;short&quot;.</span></div>
<div class="line"><a name="l15240"></a><span class="lineno">15240</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15241"></a><span class="lineno">15241</span>&#160;                <span class="comment">// The documentation for &#39;std::to_chars&#39; (https://en.cppreference.com/w/cpp/utility/to_chars)</span></div>
<div class="line"><a name="l15242"></a><span class="lineno">15242</span>&#160;                <span class="comment">// says &quot;value is converted to a string as if by std::sprintf in the default (&quot;C&quot;) locale&quot;</span></div>
<div class="line"><a name="l15243"></a><span class="lineno">15243</span>&#160;                <span class="comment">// and since sprintf promotes float&#39;s to double&#39;s, I think this is exactly what &#39;std::to_chars&#39;</span></div>
<div class="line"><a name="l15244"></a><span class="lineno">15244</span>&#160;                <span class="comment">// does.</span></div>
<div class="line"><a name="l15245"></a><span class="lineno">15245</span>&#160;                <span class="comment">// On the other hand, the documentation for &#39;std::to_chars&#39; requires that &quot;parsing the</span></div>
<div class="line"><a name="l15246"></a><span class="lineno">15246</span>&#160;                <span class="comment">// representation using the corresponding std::from_chars function recovers value exactly&quot;. That</span></div>
<div class="line"><a name="l15247"></a><span class="lineno">15247</span>&#160;                <span class="comment">// indicates that single precision floating-point numbers should be recovered using</span></div>
<div class="line"><a name="l15248"></a><span class="lineno">15248</span>&#160;                <span class="comment">// &#39;std::strtof&#39;.</span></div>
<div class="line"><a name="l15249"></a><span class="lineno">15249</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15250"></a><span class="lineno">15250</span>&#160;                <span class="comment">// NB: If the neighbors are computed for single-precision numbers, there is a single float</span></div>
<div class="line"><a name="l15251"></a><span class="lineno">15251</span>&#160;                <span class="comment">//     (7.0385307e-26f) which can&#39;t be recovered using strtod. The resulting double precision</span></div>
<div class="line"><a name="l15252"></a><span class="lineno">15252</span>&#160;                <span class="comment">//     value is off by 1 ulp.</span></div>
<div class="line"><a name="l15253"></a><span class="lineno">15253</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l15254"></a><span class="lineno">15254</span>&#160;                <span class="keyword">const</span> boundaries w = <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a22b6e37654ac93c6d0d9c06ec1bf5ded">compute_boundaries</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a>));</div>
<div class="line"><a name="l15255"></a><span class="lineno">15255</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l15256"></a><span class="lineno">15256</span>&#160;                <span class="keyword">const</span> boundaries w = <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a22b6e37654ac93c6d0d9c06ec1bf5ded">compute_boundaries</a>(<a class="code" href="namespaceexprtk_1_1details.html#a6f82a5d5d177f717db648d56438fd693">value</a>);</div>
<div class="line"><a name="l15257"></a><span class="lineno">15257</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l15258"></a><span class="lineno">15258</span>&#160; </div>
<div class="line"><a name="l15259"></a><span class="lineno">15259</span>&#160;                <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#aab7a9670a4f4704a5d0347ad7588576b">grisu2</a>(buf, len, decimal_exponent, w.minus, w.w, w.plus);</div>
<div class="line"><a name="l15260"></a><span class="lineno">15260</span>&#160;            }</div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_a22b6e37654ac93c6d0d9c06ec1bf5ded"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a22b6e37654ac93c6d0d9c06ec1bf5ded">nlohmann::detail::dtoa_impl::compute_boundaries</a></div><div class="ttdeci">boundaries compute_boundaries(FloatType value)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14528">json.hpp:14528</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_aab7a9670a4f4704a5d0347ad7588576b"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#aab7a9670a4f4704a5d0347ad7588576b">nlohmann::detail::dtoa_impl::grisu2</a></div><div class="ttdeci">void grisu2(char *buf, int &amp;len, int &amp;decimal_exponent, FloatType value)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l15229">json.hpp:15229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b899c72b0e1e3dd46d75c2b4e6bcdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b899c72b0e1e3dd46d75c2b4e6bcdfb">&#9670;&nbsp;</a></span>grisu2_digit_gen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nlohmann::detail::dtoa_impl::grisu2_digit_gen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>decimal_exponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>M_minus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlohmann_1_1detail_1_1dtoa__impl_1_1diyfp.html">diyfp</a>&#160;</td>
          <td class="paramname"><em>M_plus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates V = buffer * 10^decimal_exponent, such that M- &lt;= V &lt;= M+. M- and M+ must be normalized and share the same exponent -60 &lt;= e &lt;= -32. </p>

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14928">14928</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14930"></a><span class="lineno">14930</span>&#160;            {</div>
<div class="line"><a name="l14931"></a><span class="lineno">14931</span>&#160;                static_assert(<a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">kAlpha</a> &gt;= -60, <span class="stringliteral">&quot;internal error&quot;</span>);</div>
<div class="line"><a name="l14932"></a><span class="lineno">14932</span>&#160;                static_assert(<a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a4a750fcc38da1ce68b7e25ab3a230e20">kGamma</a> &lt;= -32, <span class="stringliteral">&quot;internal error&quot;</span>);</div>
<div class="line"><a name="l14933"></a><span class="lineno">14933</span>&#160; </div>
<div class="line"><a name="l14934"></a><span class="lineno">14934</span>&#160;                <span class="comment">// Generates the digits (and the exponent) of a decimal floating-point</span></div>
<div class="line"><a name="l14935"></a><span class="lineno">14935</span>&#160;                <span class="comment">// number V = buffer * 10^decimal_exponent in the range [M-, M+]. The diyfp&#39;s</span></div>
<div class="line"><a name="l14936"></a><span class="lineno">14936</span>&#160;                <span class="comment">// w, M- and M+ share the same exponent e, which satisfies alpha &lt;= e &lt;= gamma.</span></div>
<div class="line"><a name="l14937"></a><span class="lineno">14937</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14938"></a><span class="lineno">14938</span>&#160;                <span class="comment">//               &lt;--------------------------- delta ----&gt;</span></div>
<div class="line"><a name="l14939"></a><span class="lineno">14939</span>&#160;                <span class="comment">//                                  &lt;---- dist ---------&gt;</span></div>
<div class="line"><a name="l14940"></a><span class="lineno">14940</span>&#160;                <span class="comment">// --------------[------------------+-------------------]--------------</span></div>
<div class="line"><a name="l14941"></a><span class="lineno">14941</span>&#160;                <span class="comment">//               M-                 w                   M+</span></div>
<div class="line"><a name="l14942"></a><span class="lineno">14942</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14943"></a><span class="lineno">14943</span>&#160;                <span class="comment">// Grisu2 generates the digits of M+ from left to right and stops as soon as</span></div>
<div class="line"><a name="l14944"></a><span class="lineno">14944</span>&#160;                <span class="comment">// V is in [M-,M+].</span></div>
<div class="line"><a name="l14945"></a><span class="lineno">14945</span>&#160; </div>
<div class="line"><a name="l14946"></a><span class="lineno">14946</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(M_plus.e &gt;= <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#ac1ea1316de0b4a219f707c76b1db1966">kAlpha</a>);</div>
<div class="line"><a name="l14947"></a><span class="lineno">14947</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(M_plus.e &lt;= <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a4a750fcc38da1ce68b7e25ab3a230e20">kGamma</a>);</div>
<div class="line"><a name="l14948"></a><span class="lineno">14948</span>&#160; </div>
<div class="line"><a name="l14949"></a><span class="lineno">14949</span>&#160;                std::uint64_t delta = diyfp::sub(M_plus, M_minus).f; <span class="comment">// (significand of (M+ - M-), implicit exponent is e)</span></div>
<div class="line"><a name="l14950"></a><span class="lineno">14950</span>&#160;                std::uint64_t dist  = diyfp::sub(M_plus, w      ).f; <span class="comment">// (significand of (M+ - w ), implicit exponent is e)</span></div>
<div class="line"><a name="l14951"></a><span class="lineno">14951</span>&#160; </div>
<div class="line"><a name="l14952"></a><span class="lineno">14952</span>&#160;                <span class="comment">// Split M+ = f * 2^e into two parts p1 and p2 (note: e &lt; 0):</span></div>
<div class="line"><a name="l14953"></a><span class="lineno">14953</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14954"></a><span class="lineno">14954</span>&#160;                <span class="comment">//      M+ = f * 2^e</span></div>
<div class="line"><a name="l14955"></a><span class="lineno">14955</span>&#160;                <span class="comment">//         = ((f div 2^-e) * 2^-e + (f mod 2^-e)) * 2^e</span></div>
<div class="line"><a name="l14956"></a><span class="lineno">14956</span>&#160;                <span class="comment">//         = ((p1        ) * 2^-e + (p2        )) * 2^e</span></div>
<div class="line"><a name="l14957"></a><span class="lineno">14957</span>&#160;                <span class="comment">//         = p1 + p2 * 2^e</span></div>
<div class="line"><a name="l14958"></a><span class="lineno">14958</span>&#160; </div>
<div class="line"><a name="l14959"></a><span class="lineno">14959</span>&#160;                <span class="keyword">const</span> diyfp one(std::uint64_t{1} &lt;&lt; -M_plus.e, M_plus.e);</div>
<div class="line"><a name="l14960"></a><span class="lineno">14960</span>&#160; </div>
<div class="line"><a name="l14961"></a><span class="lineno">14961</span>&#160;                <span class="keyword">auto</span> p1 = <span class="keyword">static_cast&lt;</span>std::uint32_t<span class="keyword">&gt;</span>(M_plus.f &gt;&gt; -one.e); <span class="comment">// p1 = f div 2^-e (Since -e &gt;= 32, p1 fits into a 32-bit int.)</span></div>
<div class="line"><a name="l14962"></a><span class="lineno">14962</span>&#160;                std::uint64_t p2 = M_plus.f &amp; (one.f - 1);                    <span class="comment">// p2 = f mod 2^-e</span></div>
<div class="line"><a name="l14963"></a><span class="lineno">14963</span>&#160; </div>
<div class="line"><a name="l14964"></a><span class="lineno">14964</span>&#160;                <span class="comment">// 1)</span></div>
<div class="line"><a name="l14965"></a><span class="lineno">14965</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14966"></a><span class="lineno">14966</span>&#160;                <span class="comment">// Generate the digits of the integral part p1 = d[n-1]...d[1]d[0]</span></div>
<div class="line"><a name="l14967"></a><span class="lineno">14967</span>&#160; </div>
<div class="line"><a name="l14968"></a><span class="lineno">14968</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(p1 &gt; 0);</div>
<div class="line"><a name="l14969"></a><span class="lineno">14969</span>&#160; </div>
<div class="line"><a name="l14970"></a><span class="lineno">14970</span>&#160;                std::uint32_t pow10;</div>
<div class="line"><a name="l14971"></a><span class="lineno">14971</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> k = <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a36ded358763b5dbcea9867660fbe4e28">find_largest_pow10</a>(p1, pow10);</div>
<div class="line"><a name="l14972"></a><span class="lineno">14972</span>&#160; </div>
<div class="line"><a name="l14973"></a><span class="lineno">14973</span>&#160;                <span class="comment">//      10^(k-1) &lt;= p1 &lt; 10^k, pow10 = 10^(k-1)</span></div>
<div class="line"><a name="l14974"></a><span class="lineno">14974</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14975"></a><span class="lineno">14975</span>&#160;                <span class="comment">//      p1 = (p1 div 10^(k-1)) * 10^(k-1) + (p1 mod 10^(k-1))</span></div>
<div class="line"><a name="l14976"></a><span class="lineno">14976</span>&#160;                <span class="comment">//         = (d[k-1]         ) * 10^(k-1) + (p1 mod 10^(k-1))</span></div>
<div class="line"><a name="l14977"></a><span class="lineno">14977</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14978"></a><span class="lineno">14978</span>&#160;                <span class="comment">//      M+ = p1                                             + p2 * 2^e</span></div>
<div class="line"><a name="l14979"></a><span class="lineno">14979</span>&#160;                <span class="comment">//         = d[k-1] * 10^(k-1) + (p1 mod 10^(k-1))          + p2 * 2^e</span></div>
<div class="line"><a name="l14980"></a><span class="lineno">14980</span>&#160;                <span class="comment">//         = d[k-1] * 10^(k-1) + ((p1 mod 10^(k-1)) * 2^-e + p2) * 2^e</span></div>
<div class="line"><a name="l14981"></a><span class="lineno">14981</span>&#160;                <span class="comment">//         = d[k-1] * 10^(k-1) + (                         rest) * 2^e</span></div>
<div class="line"><a name="l14982"></a><span class="lineno">14982</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14983"></a><span class="lineno">14983</span>&#160;                <span class="comment">// Now generate the digits d[n] of p1 from left to right (n = k-1,...,0)</span></div>
<div class="line"><a name="l14984"></a><span class="lineno">14984</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14985"></a><span class="lineno">14985</span>&#160;                <span class="comment">//      p1 = d[k-1]...d[n] * 10^n + d[n-1]...d[0]</span></div>
<div class="line"><a name="l14986"></a><span class="lineno">14986</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14987"></a><span class="lineno">14987</span>&#160;                <span class="comment">// but stop as soon as</span></div>
<div class="line"><a name="l14988"></a><span class="lineno">14988</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14989"></a><span class="lineno">14989</span>&#160;                <span class="comment">//      rest * 2^e = (d[n-1]...d[0] * 2^-e + p2) * 2^e &lt;= delta * 2^e</span></div>
<div class="line"><a name="l14990"></a><span class="lineno">14990</span>&#160; </div>
<div class="line"><a name="l14991"></a><span class="lineno">14991</span>&#160;                <span class="keywordtype">int</span> n = k;</div>
<div class="line"><a name="l14992"></a><span class="lineno">14992</span>&#160;                <span class="keywordflow">while</span> (n &gt; 0)</div>
<div class="line"><a name="l14993"></a><span class="lineno">14993</span>&#160;                {</div>
<div class="line"><a name="l14994"></a><span class="lineno">14994</span>&#160;                    <span class="comment">// Invariants:</span></div>
<div class="line"><a name="l14995"></a><span class="lineno">14995</span>&#160;                    <span class="comment">//      M+ = buffer * 10^n + (p1 + p2 * 2^e)    (buffer = 0 for n = k)</span></div>
<div class="line"><a name="l14996"></a><span class="lineno">14996</span>&#160;                    <span class="comment">//      pow10 = 10^(n-1) &lt;= p1 &lt; 10^n</span></div>
<div class="line"><a name="l14997"></a><span class="lineno">14997</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l14998"></a><span class="lineno">14998</span>&#160;                    <span class="keyword">const</span> std::uint32_t d = p1 / pow10;  <span class="comment">// d = p1 div 10^(n-1)</span></div>
<div class="line"><a name="l14999"></a><span class="lineno">14999</span>&#160;                    <span class="keyword">const</span> std::uint32_t r = p1 % pow10;  <span class="comment">// r = p1 mod 10^(n-1)</span></div>
<div class="line"><a name="l15000"></a><span class="lineno">15000</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15001"></a><span class="lineno">15001</span>&#160;                    <span class="comment">//      M+ = buffer * 10^n + (d * 10^(n-1) + r) + p2 * 2^e</span></div>
<div class="line"><a name="l15002"></a><span class="lineno">15002</span>&#160;                    <span class="comment">//         = (buffer * 10 + d) * 10^(n-1) + (r + p2 * 2^e)</span></div>
<div class="line"><a name="l15003"></a><span class="lineno">15003</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15004"></a><span class="lineno">15004</span>&#160;                    <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(d &lt;= 9);</div>
<div class="line"><a name="l15005"></a><span class="lineno">15005</span>&#160;                    buffer[length++] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + d); <span class="comment">// buffer := buffer * 10 + d</span></div>
<div class="line"><a name="l15006"></a><span class="lineno">15006</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15007"></a><span class="lineno">15007</span>&#160;                    <span class="comment">//      M+ = buffer * 10^(n-1) + (r + p2 * 2^e)</span></div>
<div class="line"><a name="l15008"></a><span class="lineno">15008</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15009"></a><span class="lineno">15009</span>&#160;                    p1 = r;</div>
<div class="line"><a name="l15010"></a><span class="lineno">15010</span>&#160;                    n--;</div>
<div class="line"><a name="l15011"></a><span class="lineno">15011</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15012"></a><span class="lineno">15012</span>&#160;                    <span class="comment">//      M+ = buffer * 10^n + (p1 + p2 * 2^e)</span></div>
<div class="line"><a name="l15013"></a><span class="lineno">15013</span>&#160;                    <span class="comment">//      pow10 = 10^n</span></div>
<div class="line"><a name="l15014"></a><span class="lineno">15014</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15015"></a><span class="lineno">15015</span>&#160; </div>
<div class="line"><a name="l15016"></a><span class="lineno">15016</span>&#160;                    <span class="comment">// Now check if enough digits have been generated.</span></div>
<div class="line"><a name="l15017"></a><span class="lineno">15017</span>&#160;                    <span class="comment">// Compute</span></div>
<div class="line"><a name="l15018"></a><span class="lineno">15018</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15019"></a><span class="lineno">15019</span>&#160;                    <span class="comment">//      p1 + p2 * 2^e = (p1 * 2^-e + p2) * 2^e = rest * 2^e</span></div>
<div class="line"><a name="l15020"></a><span class="lineno">15020</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15021"></a><span class="lineno">15021</span>&#160;                    <span class="comment">// Note:</span></div>
<div class="line"><a name="l15022"></a><span class="lineno">15022</span>&#160;                    <span class="comment">// Since rest and delta share the same exponent e, it suffices to</span></div>
<div class="line"><a name="l15023"></a><span class="lineno">15023</span>&#160;                    <span class="comment">// compare the significands.</span></div>
<div class="line"><a name="l15024"></a><span class="lineno">15024</span>&#160;                    <span class="keyword">const</span> std::uint64_t rest = (std::uint64_t{p1} &lt;&lt; -one.e) + p2;</div>
<div class="line"><a name="l15025"></a><span class="lineno">15025</span>&#160;                    <span class="keywordflow">if</span> (rest &lt;= delta)</div>
<div class="line"><a name="l15026"></a><span class="lineno">15026</span>&#160;                    {</div>
<div class="line"><a name="l15027"></a><span class="lineno">15027</span>&#160;                        <span class="comment">// V = buffer * 10^n, with M- &lt;= V &lt;= M+.</span></div>
<div class="line"><a name="l15028"></a><span class="lineno">15028</span>&#160; </div>
<div class="line"><a name="l15029"></a><span class="lineno">15029</span>&#160;                        decimal_exponent += n;</div>
<div class="line"><a name="l15030"></a><span class="lineno">15030</span>&#160; </div>
<div class="line"><a name="l15031"></a><span class="lineno">15031</span>&#160;                        <span class="comment">// We may now just stop. But instead look if the buffer could be</span></div>
<div class="line"><a name="l15032"></a><span class="lineno">15032</span>&#160;                        <span class="comment">// decremented to bring V closer to w.</span></div>
<div class="line"><a name="l15033"></a><span class="lineno">15033</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l15034"></a><span class="lineno">15034</span>&#160;                        <span class="comment">// pow10 = 10^n is now 1 ulp in the decimal representation V.</span></div>
<div class="line"><a name="l15035"></a><span class="lineno">15035</span>&#160;                        <span class="comment">// The rounding procedure works with diyfp&#39;s with an implicit</span></div>
<div class="line"><a name="l15036"></a><span class="lineno">15036</span>&#160;                        <span class="comment">// exponent of e.</span></div>
<div class="line"><a name="l15037"></a><span class="lineno">15037</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l15038"></a><span class="lineno">15038</span>&#160;                        <span class="comment">//      10^n = (10^n * 2^-e) * 2^e = ulp * 2^e</span></div>
<div class="line"><a name="l15039"></a><span class="lineno">15039</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l15040"></a><span class="lineno">15040</span>&#160;                        <span class="keyword">const</span> std::uint64_t ten_n = std::uint64_t{pow10} &lt;&lt; -one.e;</div>
<div class="line"><a name="l15041"></a><span class="lineno">15041</span>&#160;                        <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a5bc841e0bee12fd6489d49cf7bd07bb4">grisu2_round</a>(buffer, length, dist, delta, rest, ten_n);</div>
<div class="line"><a name="l15042"></a><span class="lineno">15042</span>&#160; </div>
<div class="line"><a name="l15043"></a><span class="lineno">15043</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l15044"></a><span class="lineno">15044</span>&#160;                    }</div>
<div class="line"><a name="l15045"></a><span class="lineno">15045</span>&#160; </div>
<div class="line"><a name="l15046"></a><span class="lineno">15046</span>&#160;                    pow10 /= 10;</div>
<div class="line"><a name="l15047"></a><span class="lineno">15047</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15048"></a><span class="lineno">15048</span>&#160;                    <span class="comment">//      pow10 = 10^(n-1) &lt;= p1 &lt; 10^n</span></div>
<div class="line"><a name="l15049"></a><span class="lineno">15049</span>&#160;                    <span class="comment">// Invariants restored.</span></div>
<div class="line"><a name="l15050"></a><span class="lineno">15050</span>&#160;                }</div>
<div class="line"><a name="l15051"></a><span class="lineno">15051</span>&#160; </div>
<div class="line"><a name="l15052"></a><span class="lineno">15052</span>&#160;                <span class="comment">// 2)</span></div>
<div class="line"><a name="l15053"></a><span class="lineno">15053</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15054"></a><span class="lineno">15054</span>&#160;                <span class="comment">// The digits of the integral part have been generated:</span></div>
<div class="line"><a name="l15055"></a><span class="lineno">15055</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15056"></a><span class="lineno">15056</span>&#160;                <span class="comment">//      M+ = d[k-1]...d[1]d[0] + p2 * 2^e</span></div>
<div class="line"><a name="l15057"></a><span class="lineno">15057</span>&#160;                <span class="comment">//         = buffer            + p2 * 2^e</span></div>
<div class="line"><a name="l15058"></a><span class="lineno">15058</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15059"></a><span class="lineno">15059</span>&#160;                <span class="comment">// Now generate the digits of the fractional part p2 * 2^e.</span></div>
<div class="line"><a name="l15060"></a><span class="lineno">15060</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15061"></a><span class="lineno">15061</span>&#160;                <span class="comment">// Note:</span></div>
<div class="line"><a name="l15062"></a><span class="lineno">15062</span>&#160;                <span class="comment">// No decimal point is generated: the exponent is adjusted instead.</span></div>
<div class="line"><a name="l15063"></a><span class="lineno">15063</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15064"></a><span class="lineno">15064</span>&#160;                <span class="comment">// p2 actually represents the fraction</span></div>
<div class="line"><a name="l15065"></a><span class="lineno">15065</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15066"></a><span class="lineno">15066</span>&#160;                <span class="comment">//      p2 * 2^e</span></div>
<div class="line"><a name="l15067"></a><span class="lineno">15067</span>&#160;                <span class="comment">//          = p2 / 2^-e</span></div>
<div class="line"><a name="l15068"></a><span class="lineno">15068</span>&#160;                <span class="comment">//          = d[-1] / 10^1 + d[-2] / 10^2 + ...</span></div>
<div class="line"><a name="l15069"></a><span class="lineno">15069</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15070"></a><span class="lineno">15070</span>&#160;                <span class="comment">// Now generate the digits d[-m] of p1 from left to right (m = 1,2,...)</span></div>
<div class="line"><a name="l15071"></a><span class="lineno">15071</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15072"></a><span class="lineno">15072</span>&#160;                <span class="comment">//      p2 * 2^e = d[-1]d[-2]...d[-m] * 10^-m</span></div>
<div class="line"><a name="l15073"></a><span class="lineno">15073</span>&#160;                <span class="comment">//                      + 10^-m * (d[-m-1] / 10^1 + d[-m-2] / 10^2 + ...)</span></div>
<div class="line"><a name="l15074"></a><span class="lineno">15074</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15075"></a><span class="lineno">15075</span>&#160;                <span class="comment">// using</span></div>
<div class="line"><a name="l15076"></a><span class="lineno">15076</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15077"></a><span class="lineno">15077</span>&#160;                <span class="comment">//      10^m * p2 = ((10^m * p2) div 2^-e) * 2^-e + ((10^m * p2) mod 2^-e)</span></div>
<div class="line"><a name="l15078"></a><span class="lineno">15078</span>&#160;                <span class="comment">//                = (                   d) * 2^-e + (                   r)</span></div>
<div class="line"><a name="l15079"></a><span class="lineno">15079</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15080"></a><span class="lineno">15080</span>&#160;                <span class="comment">// or</span></div>
<div class="line"><a name="l15081"></a><span class="lineno">15081</span>&#160;                <span class="comment">//      10^m * p2 * 2^e = d + r * 2^e</span></div>
<div class="line"><a name="l15082"></a><span class="lineno">15082</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15083"></a><span class="lineno">15083</span>&#160;                <span class="comment">// i.e.</span></div>
<div class="line"><a name="l15084"></a><span class="lineno">15084</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15085"></a><span class="lineno">15085</span>&#160;                <span class="comment">//      M+ = buffer + p2 * 2^e</span></div>
<div class="line"><a name="l15086"></a><span class="lineno">15086</span>&#160;                <span class="comment">//         = buffer + 10^-m * (d + r * 2^e)</span></div>
<div class="line"><a name="l15087"></a><span class="lineno">15087</span>&#160;                <span class="comment">//         = (buffer * 10^m + d) * 10^-m + 10^-m * r * 2^e</span></div>
<div class="line"><a name="l15088"></a><span class="lineno">15088</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15089"></a><span class="lineno">15089</span>&#160;                <span class="comment">// and stop as soon as 10^-m * r * 2^e &lt;= delta * 2^e</span></div>
<div class="line"><a name="l15090"></a><span class="lineno">15090</span>&#160; </div>
<div class="line"><a name="l15091"></a><span class="lineno">15091</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(p2 &gt; delta);</div>
<div class="line"><a name="l15092"></a><span class="lineno">15092</span>&#160; </div>
<div class="line"><a name="l15093"></a><span class="lineno">15093</span>&#160;                <span class="keywordtype">int</span> m = 0;</div>
<div class="line"><a name="l15094"></a><span class="lineno">15094</span>&#160;                <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l15095"></a><span class="lineno">15095</span>&#160;                {</div>
<div class="line"><a name="l15096"></a><span class="lineno">15096</span>&#160;                    <span class="comment">// Invariant:</span></div>
<div class="line"><a name="l15097"></a><span class="lineno">15097</span>&#160;                    <span class="comment">//      M+ = buffer * 10^-m + 10^-m * (d[-m-1] / 10 + d[-m-2] / 10^2 + ...) * 2^e</span></div>
<div class="line"><a name="l15098"></a><span class="lineno">15098</span>&#160;                    <span class="comment">//         = buffer * 10^-m + 10^-m * (p2                                 ) * 2^e</span></div>
<div class="line"><a name="l15099"></a><span class="lineno">15099</span>&#160;                    <span class="comment">//         = buffer * 10^-m + 10^-m * (1/10 * (10 * p2)                   ) * 2^e</span></div>
<div class="line"><a name="l15100"></a><span class="lineno">15100</span>&#160;                    <span class="comment">//         = buffer * 10^-m + 10^-m * (1/10 * ((10*p2 div 2^-e) * 2^-e + (10*p2 mod 2^-e)) * 2^e</span></div>
<div class="line"><a name="l15101"></a><span class="lineno">15101</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15102"></a><span class="lineno">15102</span>&#160;                    <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(p2 &lt;= (<a class="code" href="namespaceexprtk_1_1details_1_1numeric.html#ad3912f745a4d6963cbd0b4b52e6cddcc">std::numeric_limits&lt;std::uint64_t&gt;::max</a>)() / 10);</div>
<div class="line"><a name="l15103"></a><span class="lineno">15103</span>&#160;                    p2 *= 10;</div>
<div class="line"><a name="l15104"></a><span class="lineno">15104</span>&#160;                    <span class="keyword">const</span> std::uint64_t d = p2 &gt;&gt; -one.e;     <span class="comment">// d = (10 * p2) div 2^-e</span></div>
<div class="line"><a name="l15105"></a><span class="lineno">15105</span>&#160;                    <span class="keyword">const</span> std::uint64_t r = p2 &amp; (one.f - 1); <span class="comment">// r = (10 * p2) mod 2^-e</span></div>
<div class="line"><a name="l15106"></a><span class="lineno">15106</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15107"></a><span class="lineno">15107</span>&#160;                    <span class="comment">//      M+ = buffer * 10^-m + 10^-m * (1/10 * (d * 2^-e + r) * 2^e</span></div>
<div class="line"><a name="l15108"></a><span class="lineno">15108</span>&#160;                    <span class="comment">//         = buffer * 10^-m + 10^-m * (1/10 * (d + r * 2^e))</span></div>
<div class="line"><a name="l15109"></a><span class="lineno">15109</span>&#160;                    <span class="comment">//         = (buffer * 10 + d) * 10^(-m-1) + 10^(-m-1) * r * 2^e</span></div>
<div class="line"><a name="l15110"></a><span class="lineno">15110</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15111"></a><span class="lineno">15111</span>&#160;                    <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(d &lt;= 9);</div>
<div class="line"><a name="l15112"></a><span class="lineno">15112</span>&#160;                    buffer[length++] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + d); <span class="comment">// buffer := buffer * 10 + d</span></div>
<div class="line"><a name="l15113"></a><span class="lineno">15113</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15114"></a><span class="lineno">15114</span>&#160;                    <span class="comment">//      M+ = buffer * 10^(-m-1) + 10^(-m-1) * r * 2^e</span></div>
<div class="line"><a name="l15115"></a><span class="lineno">15115</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15116"></a><span class="lineno">15116</span>&#160;                    p2 = r;</div>
<div class="line"><a name="l15117"></a><span class="lineno">15117</span>&#160;                    m++;</div>
<div class="line"><a name="l15118"></a><span class="lineno">15118</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15119"></a><span class="lineno">15119</span>&#160;                    <span class="comment">//      M+ = buffer * 10^-m + 10^-m * p2 * 2^e</span></div>
<div class="line"><a name="l15120"></a><span class="lineno">15120</span>&#160;                    <span class="comment">// Invariant restored.</span></div>
<div class="line"><a name="l15121"></a><span class="lineno">15121</span>&#160; </div>
<div class="line"><a name="l15122"></a><span class="lineno">15122</span>&#160;                    <span class="comment">// Check if enough digits have been generated.</span></div>
<div class="line"><a name="l15123"></a><span class="lineno">15123</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l15124"></a><span class="lineno">15124</span>&#160;                    <span class="comment">//      10^-m * p2 * 2^e &lt;= delta * 2^e</span></div>
<div class="line"><a name="l15125"></a><span class="lineno">15125</span>&#160;                    <span class="comment">//              p2 * 2^e &lt;= 10^m * delta * 2^e</span></div>
<div class="line"><a name="l15126"></a><span class="lineno">15126</span>&#160;                    <span class="comment">//                    p2 &lt;= 10^m * delta</span></div>
<div class="line"><a name="l15127"></a><span class="lineno">15127</span>&#160;                    delta *= 10;</div>
<div class="line"><a name="l15128"></a><span class="lineno">15128</span>&#160;                    dist  *= 10;</div>
<div class="line"><a name="l15129"></a><span class="lineno">15129</span>&#160;                    <span class="keywordflow">if</span> (p2 &lt;= delta)</div>
<div class="line"><a name="l15130"></a><span class="lineno">15130</span>&#160;                    {</div>
<div class="line"><a name="l15131"></a><span class="lineno">15131</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15132"></a><span class="lineno">15132</span>&#160;                    }</div>
<div class="line"><a name="l15133"></a><span class="lineno">15133</span>&#160;                }</div>
<div class="line"><a name="l15134"></a><span class="lineno">15134</span>&#160; </div>
<div class="line"><a name="l15135"></a><span class="lineno">15135</span>&#160;                <span class="comment">// V = buffer * 10^-m, with M- &lt;= V &lt;= M+.</span></div>
<div class="line"><a name="l15136"></a><span class="lineno">15136</span>&#160; </div>
<div class="line"><a name="l15137"></a><span class="lineno">15137</span>&#160;                decimal_exponent -= m;</div>
<div class="line"><a name="l15138"></a><span class="lineno">15138</span>&#160; </div>
<div class="line"><a name="l15139"></a><span class="lineno">15139</span>&#160;                <span class="comment">// 1 ulp in the decimal representation is now 10^-m.</span></div>
<div class="line"><a name="l15140"></a><span class="lineno">15140</span>&#160;                <span class="comment">// Since delta and dist are now scaled by 10^m, we need to do the</span></div>
<div class="line"><a name="l15141"></a><span class="lineno">15141</span>&#160;                <span class="comment">// same with ulp in order to keep the units in sync.</span></div>
<div class="line"><a name="l15142"></a><span class="lineno">15142</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15143"></a><span class="lineno">15143</span>&#160;                <span class="comment">//      10^m * 10^-m = 1 = 2^-e * 2^e = ten_m * 2^e</span></div>
<div class="line"><a name="l15144"></a><span class="lineno">15144</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15145"></a><span class="lineno">15145</span>&#160;                <span class="keyword">const</span> std::uint64_t ten_m = one.f;</div>
<div class="line"><a name="l15146"></a><span class="lineno">15146</span>&#160;                <a class="code" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a5bc841e0bee12fd6489d49cf7bd07bb4">grisu2_round</a>(buffer, length, dist, delta, p2, ten_m);</div>
<div class="line"><a name="l15147"></a><span class="lineno">15147</span>&#160; </div>
<div class="line"><a name="l15148"></a><span class="lineno">15148</span>&#160;                <span class="comment">// By construction this algorithm generates the shortest possible decimal</span></div>
<div class="line"><a name="l15149"></a><span class="lineno">15149</span>&#160;                <span class="comment">// number (Loitsch, Theorem 6.2) which rounds back to w.</span></div>
<div class="line"><a name="l15150"></a><span class="lineno">15150</span>&#160;                <span class="comment">// For an input number of precision p, at least</span></div>
<div class="line"><a name="l15151"></a><span class="lineno">15151</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15152"></a><span class="lineno">15152</span>&#160;                <span class="comment">//      N = 1 + ceil(p * log_10(2))</span></div>
<div class="line"><a name="l15153"></a><span class="lineno">15153</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15154"></a><span class="lineno">15154</span>&#160;                <span class="comment">// decimal digits are sufficient to identify all binary floating-point</span></div>
<div class="line"><a name="l15155"></a><span class="lineno">15155</span>&#160;                <span class="comment">// numbers (Matula, &quot;In-and-Out conversions&quot;).</span></div>
<div class="line"><a name="l15156"></a><span class="lineno">15156</span>&#160;                <span class="comment">// This implies that the algorithm does not produce more than N decimal</span></div>
<div class="line"><a name="l15157"></a><span class="lineno">15157</span>&#160;                <span class="comment">// digits.</span></div>
<div class="line"><a name="l15158"></a><span class="lineno">15158</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l15159"></a><span class="lineno">15159</span>&#160;                <span class="comment">//      N = 17 for p = 53 (IEEE double precision)</span></div>
<div class="line"><a name="l15160"></a><span class="lineno">15160</span>&#160;                <span class="comment">//      N = 9  for p = 24 (IEEE single precision)</span></div>
<div class="line"><a name="l15161"></a><span class="lineno">15161</span>&#160;            }</div>
<div class="ttc" id="anamespaceexprtk_1_1details_1_1numeric_html_ad3912f745a4d6963cbd0b4b52e6cddcc"><div class="ttname"><a href="namespaceexprtk_1_1details_1_1numeric.html#ad3912f745a4d6963cbd0b4b52e6cddcc">exprtk::details::numeric::max</a></div><div class="ttdeci">T max(const T v0, const T v1)</div><div class="ttdef"><b>Definition:</b> <a href="exprtk_8hpp_source.html#l01500">exprtk.hpp:1500</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_a36ded358763b5dbcea9867660fbe4e28"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a36ded358763b5dbcea9867660fbe4e28">nlohmann::detail::dtoa_impl::find_largest_pow10</a></div><div class="ttdeci">int find_largest_pow10(const std::uint32_t n, std::uint32_t &amp;pow10)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14831">json.hpp:14831</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_1_1dtoa__impl_html_a5bc841e0bee12fd6489d49cf7bd07bb4"><div class="ttname"><a href="namespacenlohmann_1_1detail_1_1dtoa__impl.html#a5bc841e0bee12fd6489d49cf7bd07bb4">nlohmann::detail::dtoa_impl::grisu2_round</a></div><div class="ttdeci">void grisu2_round(char *buf, int len, std::uint64_t dist, std::uint64_t delta, std::uint64_t rest, std::uint64_t ten_k)</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l14887">json.hpp:14887</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bc841e0bee12fd6489d49cf7bd07bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc841e0bee12fd6489d49cf7bd07bb4">&#9670;&nbsp;</a></span>grisu2_round()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nlohmann::detail::dtoa_impl::grisu2_round </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>rest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>ten_k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14887">14887</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14889"></a><span class="lineno">14889</span>&#160;            {</div>
<div class="line"><a name="l14890"></a><span class="lineno">14890</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(len &gt;= 1);</div>
<div class="line"><a name="l14891"></a><span class="lineno">14891</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(dist &lt;= delta);</div>
<div class="line"><a name="l14892"></a><span class="lineno">14892</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(rest &lt;= delta);</div>
<div class="line"><a name="l14893"></a><span class="lineno">14893</span>&#160;                <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(ten_k &gt; 0);</div>
<div class="line"><a name="l14894"></a><span class="lineno">14894</span>&#160; </div>
<div class="line"><a name="l14895"></a><span class="lineno">14895</span>&#160;                <span class="comment">//               &lt;--------------------------- delta ----&gt;</span></div>
<div class="line"><a name="l14896"></a><span class="lineno">14896</span>&#160;                <span class="comment">//                                  &lt;---- dist ---------&gt;</span></div>
<div class="line"><a name="l14897"></a><span class="lineno">14897</span>&#160;                <span class="comment">// --------------[------------------+-------------------]--------------</span></div>
<div class="line"><a name="l14898"></a><span class="lineno">14898</span>&#160;                <span class="comment">//               M-                 w                   M+</span></div>
<div class="line"><a name="l14899"></a><span class="lineno">14899</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14900"></a><span class="lineno">14900</span>&#160;                <span class="comment">//                                  ten_k</span></div>
<div class="line"><a name="l14901"></a><span class="lineno">14901</span>&#160;                <span class="comment">//                                &lt;------&gt;</span></div>
<div class="line"><a name="l14902"></a><span class="lineno">14902</span>&#160;                <span class="comment">//                                       &lt;---- rest ----&gt;</span></div>
<div class="line"><a name="l14903"></a><span class="lineno">14903</span>&#160;                <span class="comment">// --------------[------------------+----+--------------]--------------</span></div>
<div class="line"><a name="l14904"></a><span class="lineno">14904</span>&#160;                <span class="comment">//                                  w    V</span></div>
<div class="line"><a name="l14905"></a><span class="lineno">14905</span>&#160;                <span class="comment">//                                       = buf * 10^k</span></div>
<div class="line"><a name="l14906"></a><span class="lineno">14906</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l14907"></a><span class="lineno">14907</span>&#160;                <span class="comment">// ten_k represents a unit-in-the-last-place in the decimal representation</span></div>
<div class="line"><a name="l14908"></a><span class="lineno">14908</span>&#160;                <span class="comment">// stored in buf.</span></div>
<div class="line"><a name="l14909"></a><span class="lineno">14909</span>&#160;                <span class="comment">// Decrement buf by ten_k while this takes buf closer to w.</span></div>
<div class="line"><a name="l14910"></a><span class="lineno">14910</span>&#160; </div>
<div class="line"><a name="l14911"></a><span class="lineno">14911</span>&#160;                <span class="comment">// The tests are written in this order to avoid overflow in unsigned</span></div>
<div class="line"><a name="l14912"></a><span class="lineno">14912</span>&#160;                <span class="comment">// integer arithmetic.</span></div>
<div class="line"><a name="l14913"></a><span class="lineno">14913</span>&#160; </div>
<div class="line"><a name="l14914"></a><span class="lineno">14914</span>&#160;                <span class="keywordflow">while</span> (rest &lt; dist</div>
<div class="line"><a name="l14915"></a><span class="lineno">14915</span>&#160;                       &amp;&amp; delta - rest &gt;= ten_k</div>
<div class="line"><a name="l14916"></a><span class="lineno">14916</span>&#160;                       &amp;&amp; (rest + ten_k &lt; dist || dist - rest &gt; rest + ten_k - dist))</div>
<div class="line"><a name="l14917"></a><span class="lineno">14917</span>&#160;                {</div>
<div class="line"><a name="l14918"></a><span class="lineno">14918</span>&#160;                    <a class="code" href="json_8hpp.html#a69f131cff49da1989667220173fbeae6">JSON_ASSERT</a>(buf[len - 1] != <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l14919"></a><span class="lineno">14919</span>&#160;                    buf[len - 1]--;</div>
<div class="line"><a name="l14920"></a><span class="lineno">14920</span>&#160;                    rest += ten_k;</div>
<div class="line"><a name="l14921"></a><span class="lineno">14921</span>&#160;                }</div>
<div class="line"><a name="l14922"></a><span class="lineno">14922</span>&#160;            }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c5d30eb51e5e994a3f48bde104d2ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5d30eb51e5e994a3f48bde104d2ce8">&#9670;&nbsp;</a></span>reinterpret_bits()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Target , typename Source &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Target nlohmann::detail::dtoa_impl::reinterpret_bits </td>
          <td>(</td>
          <td class="paramtype">const Source&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14387">14387</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l14388"></a><span class="lineno">14388</span>&#160;            {</div>
<div class="line"><a name="l14389"></a><span class="lineno">14389</span>&#160;                static_assert(<span class="keyword">sizeof</span>(Target) == <span class="keyword">sizeof</span>(Source), <span class="stringliteral">&quot;size mismatch&quot;</span>);</div>
<div class="line"><a name="l14390"></a><span class="lineno">14390</span>&#160; </div>
<div class="line"><a name="l14391"></a><span class="lineno">14391</span>&#160;                Target target;</div>
<div class="line"><a name="l14392"></a><span class="lineno">14392</span>&#160;                std::memcpy(&amp;target, &amp;source, <span class="keyword">sizeof</span>(Source));</div>
<div class="line"><a name="l14393"></a><span class="lineno">14393</span>&#160;                <span class="keywordflow">return</span> target;</div>
<div class="line"><a name="l14394"></a><span class="lineno">14394</span>&#160;            }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac1ea1316de0b4a219f707c76b1db1966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ea1316de0b4a219f707c76b1db1966">&#9670;&nbsp;</a></span>kAlpha</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int nlohmann::detail::dtoa_impl::kAlpha = -60</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14650">14650</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>

</div>
</div>
<a id="a4a750fcc38da1ce68b7e25ab3a230e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a750fcc38da1ce68b7e25ab3a230e20">&#9670;&nbsp;</a></span>kGamma</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int nlohmann::detail::dtoa_impl::kGamma = -32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="json_8hpp_source.html#l14651">14651</a> of file <a class="el" href="json_8hpp_source.html">json.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacenlohmann.html">nlohmann</a></li><li class="navelem"><a class="el" href="namespacenlohmann_1_1detail.html">detail</a></li><li class="navelem"><a class="el" href="namespacenlohmann_1_1detail_1_1dtoa__impl.html">dtoa_impl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
